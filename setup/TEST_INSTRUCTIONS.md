# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é Umnico Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Umnico —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `.env` (–Ω–µ –≤ git)
- ‚úÖ Playwright Service –∑–∞–ø—É—â–µ–Ω
- ‚úÖ Jarvis API –∑–∞–ø—É—â–µ–Ω

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Umnico

1. –û—Ç–∫—Ä–æ–π—Ç–µ Umnico (https://umnico.com)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π –¥–∏–∞–ª–æ–≥ —Å –∫–ª–∏–µ–Ω—Ç–æ–º (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π)
3. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –∏–º–µ–Ω–∏ –∫–ª–∏–µ–Ω—Ç–∞** —Å —Ç–µ–∫—Å—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∞:**
```
TEST_JARVIS_2025
```

–ò–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏.

---

### –®–∞–≥ 2: –ü–æ–∏—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
node setup/wait_and_find_test.mjs "TEST_JARVIS_2025"
```

–ó–∞–º–µ–Ω–∏—Ç–µ `"TEST_JARVIS_2025"` –Ω–∞ —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏.

**–°–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å Playwright Service –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ò—Å–∫–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Umnico –¥–∏–∞–ª–æ–≥–∞—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–º—ã –≤ Telegram
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ!

üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∏–∞–ª–æ–≥–µ:
   Umnico Conversation ID: 123456
   –ö–ª–∏–µ–Ω—Ç: –ò–º—è –ö–ª–∏–µ–Ω—Ç–∞
   –ö–∞–Ω–∞–ª: whatsapp

üí¨ –°–æ–æ–±—â–µ–Ω–∏–µ:
   –¢–µ–∫—Å—Ç: "TEST_JARVIS_2025"
   –í—Ä–µ–º—è: 2025-11-11T...
   –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: incoming

‚úÖ –¢–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞ –≤ Telegram!
   Chat ID: -5015844768
   Topic ID: 12345
   –°—Ç–∞—Ç—É—Å: active
   –°–µ—Å—Å–∏—è –¥–æ: 2025-11-11T...

üí° –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram –≥—Ä—É–ø–ø—É "Umnico + TG BOT" - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–µ–º–∞ —Å —ç—Ç–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º!
```

---

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –≥—Ä—É–ø–ø—É "Umnico + TG BOT"
2. –ù–∞–π–¥–∏—Ç–µ —Ç–µ–º—É —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–ª–∏–µ–Ω—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ –¢–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞
   - ‚úÖ –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–ª–∏–µ–Ω—Ç–µ
   - ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ç–µ–º–µ
   - ‚úÖ –ö–Ω–æ–ø–∫–∏ "–ó–∞–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥" –∏ "–ü—Ä–æ–¥–ª–∏—Ç—å –Ω–∞ 1 —á–∞—Å"

---

### –®–∞–≥ 4: –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ Telegram

1. –í —Ç–µ–º–µ –¥–∏–∞–ª–æ–≥–∞ –≤ Telegram –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –æ—Ç–≤–µ—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—è–≤–∏–ª–æ—Å—å –≤ Umnico
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ—Å—Å–∏—è –ø—Ä–æ–¥–ª–µ–Ω–∞ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —ç—Ç–æ–º)

---

## üîç –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```bash
# –ü–æ–∏—Å–∫ –ø–æ –ª—é–±–æ–º—É —Ç–µ–∫—Å—Ç—É
node setup/find_test_message.mjs "–≤–∞—à_—Ç–µ–∫—Å—Ç"
```

---

## üìã –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### –í Umnico:
- [ ] –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç –∏–º–µ–Ω–∏ –∫–ª–∏–µ–Ω—Ç–∞
- [ ] –°–æ–æ–±—â–µ–Ω–∏–µ –≤–∏–¥–Ω–æ –≤ –¥–∏–∞–ª–æ–≥–µ

### –í Telegram:
- [ ] –¢–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞ –≤ –≥—Ä—É–ø–ø–µ "Umnico + TG BOT"
- [ ] –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞
- [ ] –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- [ ] –°–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–µ–π —Ä–∞–±–æ—Ç–∞—é—Ç

### –í –ª–æ–≥–∞—Ö Jarvis API:
- [ ] `Found X new messages in conversation CONVERSATION_ID`
- [ ] `Creating new topic for conversation CONVERSATION_ID`
- [ ] `Created topic TOPIC_ID for conversation CONVERSATION_ID`

### –í –ë–î:
```sql
SELECT 
  umnico_conversation_id,
  client_name,
  tg_topic_id,
  status,
  session_expires_at
FROM conversations 
WHERE client_name LIKE '%TEST%'
  OR umnico_conversation_id IN (
    SELECT umnico_conversation_id 
    FROM messages 
    WHERE text LIKE '%TEST_JARVIS%'
  );
```

---

## ‚ö†Ô∏è Troubleshooting

### –°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Playwright Service –ø–æ–¥–∫–ª—é—á–µ–Ω:
   ```bash
   docker logs playwright-umnico --tail 50
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Jarvis API –∑–∞–ø—É—â–µ–Ω:
   ```bash
   Get-Process -Name node
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Jarvis API –Ω–∞ –æ—à–∏–±–∫–∏

### –¢–µ–º–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞ –≤ Telegram

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —á–∞—Ç —è–≤–ª—è–µ—Ç—Å—è —Ñ–æ—Ä—É–º–æ–º:
   ```bash
   node setup/check_telegram_chat_type.mjs
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Jarvis API:
   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–º—ã
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `UMNICO_FORUM_CHAT_ID` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### Playwright Service –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ `.env`:
   ```bash
   node setup/check_umnico_env.mjs
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   docker logs playwright-umnico --tail 100
   ```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
   ```bash
   docker compose restart playwright-umnico
   ```

---

## üìû –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

**–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Umnico –∏ —Å–∫–∞–∂–∏—Ç–µ –∫–∞–∫–æ–π —Ç–µ–∫—Å—Ç –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ - —è –Ω–∞–π–¥—É –µ–≥–æ!**

