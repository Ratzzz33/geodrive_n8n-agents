‚úÖ –ó–ê–î–ê–ß–ê –í–´–ü–û–õ–ù–ï–ù–ê: –í–∞–ª–∏–¥–∞—Ü–∏—è 9 —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π –≤–µ–±—Ö—É–∫–æ–≤ RentProg
======================================================================

üìã –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ 9 —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π –≤ knownEventTypes:
   ‚Ä¢ client_destroy, car_destroy, booking_destroy
   ‚Ä¢ car_update, client_update, booking_update
   ‚Ä¢ client_create, booking_create, car_create

2. –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏—è:
   ‚Ä¢ –ë–∞–∑–æ–≤–∞—è: id, company_id (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –≤—Å–µ–≥–¥–∞)
   ‚Ä¢ *_update: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –∏–∑–º–µ–Ω—è–µ–º–æ–≥–æ –ø–æ–ª—è
   ‚Ä¢ *_create: –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
   ‚Ä¢ *_destroy: —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

3. –û–±–Ω–æ–≤–ª–µ–Ω workflow RentProg Webhooks Monitor:
   ‚Ä¢ –ö–æ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ –Ω–æ–¥–µ Parse & Validate Format
   ‚Ä¢ –§—É–Ω–∫—Ü–∏—è validateEventFormat() —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
   ‚Ä¢ isKnownFormat = true —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–ª–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏

üìÅ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
   ‚Ä¢ n8n-workflows/rentprog-webhooks-monitor.json
   ‚Ä¢ setup/parse_code_with_validation.js
   ‚Ä¢ setup/update_validation_code.mjs
   ‚Ä¢ docs/WEBHOOK_EVENT_VALIDATION.md

üîó Workflow URL: https://n8n.rentflow.rentals/workflow/gNXRKIQpNubEazH7

üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
   ‚Ä¢ –ò–∑–≤–µ—Å—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ‚Üí Auto Process (Jarvis API)
   ‚Ä¢ –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ‚Üí Telegram –∞–ª–µ—Ä—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
   ‚Ä¢ –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ –∞–ª–µ—Ä—Ç–µ

üìä –ü—Ä–∏–º–µ—Ä—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏:

‚úÖ car_update (–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç):
   –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: id, company_id
   + —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –∏–∑: mileage, clean_state, status, location, plate_number

‚úÖ client_create (–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç):
   –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: id, company_id
   + (name –ò–õ–ò phone)

‚úÖ booking_destroy (–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç):
   –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: id, company_id (—Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è)

‚ùå car_update –±–µ–∑ –ø–æ–ª–µ–π –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç):
   –û—à–∏–±–∫–∞: "car_update: –Ω–µ—Ç –ø–æ–ª–µ–π –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è"
   ‚Üí Telegram –∞–ª–µ—Ä—Ç —Å –¥–µ—Ç–∞–ª—è–º–∏

üìù –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: docs/WEBHOOK_EVENT_VALIDATION.md

