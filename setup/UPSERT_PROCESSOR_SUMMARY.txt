=== –ù–û–í–´–ô UPSERT PROCESSOR: –ü–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —Ñ–∏–ª–∏–∞–ª–∞–º ===

–ü—Ä–æ–±–ª–µ–º–∞:
  –í–µ–±—Ö—É–∫ —Å–æ–æ–±—â–∞–µ—Ç –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –±—Ä–æ–Ω–∏/–º–∞—à–∏–Ω—ã/–∫–ª–∏–µ–Ω—Ç–∞
  ‚Üí –°—É—â–Ω–æ—Å—Ç–∏ –Ω–µ—Ç –≤ –Ω–∞—à–µ–π –ë–î
  ‚Üí –ù—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–∑ RentProg API
  ‚Üí –ù–û: –Ω–µ –∑–Ω–∞–µ–º, –≤ –∫–∞–∫–æ–º —Ñ–∏–ª–∏–∞–ª–µ –æ–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è!

–†–µ—à–µ–Ω–∏–µ:
  –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤—Å–µ—Ö 4 —Ñ–∏–ª–∏–∞–ª–æ–≤:
  1. Tbilisi
  2. Batumi  
  3. Kutaisi
  4. Service Center
  
  –ü—Ä–∏ –ø–µ—Ä–≤–æ–º —É—Å–ø–µ—Ö–µ - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—Å—è!

–õ–æ–≥–∏–∫–∞:
  Webhook
    ‚Üì
  Prepare Data (Set)
    ‚Üì
  Try Tbilisi (HTTP Request)
    ‚Üì
  If Success? ‚Üí YES ‚Üí Save ‚Üí Respond ‚úÖ (–ö–û–ù–ï–¶)
            ‚Üò NO
              Try Batumi
                ‚Üì
              If Success? ‚Üí YES ‚Üí Save ‚Üí Respond ‚úÖ (–ö–û–ù–ï–¶)
                        ‚Üò NO
                          Try Kutaisi
                            ‚Üì
                          If Success? ‚Üí YES ‚Üí Save ‚Üí Respond ‚úÖ (–ö–û–ù–ï–¶)
                                    ‚Üò NO
                                      Try Service Center
                                        ‚Üì
                                      If Success? ‚Üí YES ‚Üí Save ‚Üí Respond ‚úÖ
                                                ‚Üò NO ‚Üí Telegram Alert ‚ùå

‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¢–û–õ–¨–ö–û —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –Ω–æ–¥—ã:
  ‚Ä¢ Webhook - —Ç—Ä–∏–≥–≥–µ—Ä
  ‚Ä¢ Set - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
  ‚Ä¢ HTTP Request (4 —à—Ç) - –∑–∞–ø—Ä–æ—Å—ã –∫ RentProg API
  ‚Ä¢ If (4 —à—Ç) - –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
  ‚Ä¢ Postgres (4 —à—Ç) - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ external_refs
  ‚Ä¢ Telegram - –∞–ª–µ—Ä—Ç –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ
  ‚Ä¢ Respond to Webhook (5 —à—Ç) - –æ—Ç–≤–µ—Ç—ã

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  ‚Ä¢ 20 —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –Ω–æ–¥
  ‚Ä¢ 0 Code –Ω–æ–¥
  ‚Ä¢ –í—Ä–µ–º—è: 200-1500ms (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ–∏–ª–∏–∞–ª–∞)
  ‚Ä¢ –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —É—Å–ø–µ—Ö–µ

üéØ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
  ‚Ä¢ –ù–∞–π–¥–µ–Ω–æ –≤ Tbilisi: ~200ms, 1 –∑–∞–ø—Ä–æ—Å
  ‚Ä¢ –ù–∞–π–¥–µ–Ω–æ –≤ Batumi: ~400ms, 2 –∑–∞–ø—Ä–æ—Å–∞
  ‚Ä¢ –ù–∞–π–¥–µ–Ω–æ –≤ Kutaisi: ~600ms, 3 –∑–∞–ø—Ä–æ—Å–∞
  ‚Ä¢ –ù–∞–π–¥–µ–Ω–æ –≤ Service Center: ~800ms, 4 –∑–∞–ø—Ä–æ—Å–∞
  ‚Ä¢ –ù–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–∏–≥–¥–µ: ~1000ms, 4 –∑–∞–ø—Ä–æ—Å–∞ + Telegram

üìÅ –§–∞–π–ª—ã:
  ‚Ä¢ n8n-workflows/rentprog-upsert-processor-new.json
  ‚Ä¢ docs/UPSERT_PROCESSOR_MULTI_BRANCH.md

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
  curl -X POST "http://46.224.17.15:5678/webhook/upsert-processor" \
    -H "Content-Type: application/json" \
    -d '{"rentprog_id": "65311", "entity_type": "car"}'

–ì–æ—Ç–æ–≤–æ –∫ –∏–º–ø–æ—Ä—Ç—É –≤ n8n! üöÄ

