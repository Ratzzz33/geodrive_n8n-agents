# –û—Ç—á–µ—Ç: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—Ç–∏—Ä–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö NULL –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

### ‚úÖ –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –º–∞—à–∏–Ω–∞: **Volkswagen Tiguan** (rentprog_id: 50169)
- –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ cars: **14 –Ω–æ—è–±—Ä—è 2025, 17:18**
- –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ snapshot: **10 –Ω–æ—è–±—Ä—è 2025, 12:25**

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã NULL –∑–Ω–∞—á–µ–Ω–∏—è

**–ü–æ–ª—è —Å NULL –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ cars:**
- `deposit`: NULL
- `price_hour`: NULL
- `hourly_deposit`: NULL
- `monthly_deposit`: NULL
- `investor_id`: NULL
- `purchase_price`: NULL
- `purchase_date`: NULL
- `age_limit`: NULL
- `driver_year_limit`: NULL
- `last_inspection`: NULL

### üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –º–∞—à–∏–Ω–∞–º–∏

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –º–∞—à–∏–Ω–∞–º:**
- –í—Å–µ–≥–æ –º–∞—à–∏–Ω: **135**
- –° `deposit`: **128 (95%)**
- –° `price_hour`: **128 (95%)**
- –° `investor_id`: **119 (88%)**
- –° `purchase_price`: **78 (58%)**
- –° `age_limit`: **128 (95%)**

**–í—ã–≤–æ–¥:** 
- ‚úÖ **95% –º–∞—à–∏–Ω –∏–º–µ—é—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—è** `deposit`, `price_hour`, `age_limit`
- ‚úÖ **88% –º–∞—à–∏–Ω –∏–º–µ—é—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ –ø–æ–ª–µ** `investor_id`
- ‚ö†Ô∏è **–ú–∞—à–∏–Ω–∞ rentprog_id=50169 –∏–º–µ–µ—Ç –≤—Å–µ —ç—Ç–∏ –ø–æ–ª—è NULL**

### üîç –ê–Ω–∞–ª–∏–∑

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–î–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –∑–∞—Ç–µ—Ä—Ç—ã NULL –∑–Ω–∞—á–µ–Ω–∏—è–º–∏** –ø—Ä–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ (14 –Ω–æ—è–±—Ä—è)
   - –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–±—ã—á–Ω–æ–≥–æ `upsert` –±–µ–∑ COALESCE, NULL –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞—Ç–∏—Ä–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ
   - –ú–∞—à–∏–Ω–∞ –±—ã–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ workflow, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `upsert` –±–µ–∑ –∑–∞—â–∏—Ç—ã –æ—Ç NULL

2. **–î–∞–Ω–Ω—ã–µ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª–∏ NULL** –¥–ª—è —ç—Ç–æ–π –º–∞—à–∏–Ω—ã
   - –ù–æ —ç—Ç–æ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–∞–∫ –∫–∞–∫ 95% –¥—Ä—É–≥–∏—Ö –º–∞—à–∏–Ω –∏–º–µ—é—Ç —ç—Ç–∏ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏

3. **API –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç—Ç–∏ –ø–æ–ª—è** –¥–ª—è —ç—Ç–æ–π –º–∞—à–∏–Ω—ã
   - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∏–∑ API –¥–ª—è —ç—Ç–æ–π –º–∞—à–∏–Ω—ã

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç –º–µ–∂–¥—É `cars` –∏ `rentprog_car_states_snapshot`
- ‚úÖ –ü–æ–ª—è —Ü–µ–Ω (`price_values`, `prices`) –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–¥–∞–ª—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ `cars`
- ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è (car_name, code, number, vin, color, year, etc.) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### üö® –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ö–†–ò–¢–ò–ß–ù–û:** –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å "Save Snapshot" –∏ "Save Cars" –Ω–∞ `executeQuery` —Å COALESCE, —á—Ç–æ–±—ã NULL –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –∑–∞—Ç–∏—Ä–∞–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ë–î:** –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –º–∞—à–∏–Ω—ã rentprog_id=50169 –∏–∑ –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å –±—ç–∫–∞–ø –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã)

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç—Ç–∏ –ø–æ–ª—è –¥–ª—è –≤—Å–µ—Ö –º–∞—à–∏–Ω

4. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å COALESCE –≤–æ –≤—Å–µ—Ö upsert –æ–ø–µ—Ä–∞—Ü–∏—è—Ö, —á—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –∑–∞—Ç–∏—Ä–∞–Ω–∏—è NULL –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

