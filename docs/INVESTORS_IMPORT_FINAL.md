# ‚úÖ –ò–º–ø–æ—Ä—Ç –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ - –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢

**–î–∞—Ç–∞:** 2025-11-14  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û –£–°–ü–ï–®–ù–û  

---

## üìä –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤: **18**

–í—Å–µ –ø–∞—Ä—Ç–Ω–µ—Ä—ã —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ç–∞–±–ª–∏—Ü—É `rentprog_employees` —Å —Ä–æ–ª—å—é `'partner'`.

| ID  | –ò–º—è                          | –î–æ–ª—è % | –ú–∞—à–∏–Ω |
|-----|------------------------------|--------|-------|
| 222 | –ê–Ω—Ç–æ–Ω –ö—Ä—ã–ª–æ–≤                 | 50     | 0     |
| 748 | –î–µ–Ω–∏—Å –ú–∏—Ö–∞–ª–∏–Ω                | 50     | 0     |
| 749 | –ú–∞—Ä–∏—è –ù–∏–∫–∏—à–æ–≤–∞               | 50     | 0     |
| 750 | –î—É—Ä—Å—É–Ω –ö–∞—Å—É–º–æ–≤               | 50     | 1     |
| 769 | –î–∏–¥–æ–Ω–æ–≤ 2                    | 50     | 1     |
| 771 | –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –õ—É–Ω–∫–∏–Ω             | 50     | 0     |
| 772 | –°–æ–π–∫–∞ –ò–≤–∞–Ω                   | 50     | 0     |
| 773 | –¢—Ä–æ—Ñ–∏–º                       | 50     | 0     |
| 774 | –í–µ—Å–ª–æ–≥—É–∑–æ–≤ –°–µ—Ä–≥–µ–π            | 50     | 0     |
| 775 | –ü–∞–≤–µ–ª –ß—É–ø–∞—Ö–æ–≤ (–î–∏–¥–æ–Ω–æ–≤)      | 50     | 0     |
| 776 | –î–∏–¥–æ–Ω–æ–≤ 1                    | 50     | 0     |
| 777 | Bortsvadze Beka              | 50     | 1     |
| 779 | –ö–≤–∞—á–∞–Ω—Ç—Ä–∏–¥–∑–µ –ê–ø–ø–æ–ª–æ–Ω         | 50     | 0     |
| 780 | –õ–æ–±–æ–≤ –ê–ª–µ–∫—Å–µ–π                | 50     | 0     |
| 781 | Pekker Grigorii              | 50     | 0     |
| 782 | Kuboyan Karen                | 50     | 0     |
| 783 | –ú–∏—Ö–∞–∏–ª –ü–æ–≤—Ö (–î–∏–¥–æ–Ω–æ–≤)        | 50     | 0     |
| 785 | –õ–æ–º–∏—è –ì–æ—á–∞                   | 50     | 0     |

---

## üöó –°–≤—è–∑—å —Å –º–∞—à–∏–Ω–∞–º–∏

### –ü–∞—Ä—Ç–Ω–µ—Ä—ã —Å –º–∞—à–∏–Ω–∞–º–∏: **4**

| ID  | –ò–º—è             | –ú–∞—à–∏–Ω | –ú–∞—à–∏–Ω—ã                                                |
|-----|-----------------|-------|-------------------------------------------------------|
| 739 | *(–Ω–µ –≤ —Å–ø–∏—Å–∫–µ)* | 4     | FK288FF, GG134HG, MM207LM, UN522UN (?)                |
| 750 | –î—É—Ä—Å—É–Ω –ö–∞—Å—É–º–æ–≤  | 1     | XX950DX (Audi Q7, –ö—É—Ç–∞–∏—Å–∏)                            |
| 769 | –î–∏–¥–æ–Ω–æ–≤ 2       | 1     | –û–¥–Ω–∞ –∏–∑ –º–∞—à–∏–Ω –≤ –¢–±–∏–ª–∏—Å–∏                               |
| 777 | Bortsvadze Beka | 1     | PJ756PJ (Hyundai Tucson Silver, –¢–±–∏–ª–∏—Å–∏)              |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–∞—Ä—Ç–Ω–µ—Ä **739** –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ —Å–ø–∏—Å–æ–∫ 18 –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤, –Ω–æ –∏–º–µ–µ—Ç –º–∞—à–∏–Ω—ã –≤ –ë–î. –í–æ–∑–º–æ–∂–Ω–æ:
- –≠—Ç–æ —Å—Ç–∞—Ä—ã–π –ø–∞—Ä—Ç–Ω—ë—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª —É–¥–∞–ª–µ–Ω –∏–∑ RentProg
- –ò–ª–∏ –º–∞—à–∏–Ω—ã –µ—â–µ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞

### –ü–∞—Ä—Ç–Ω–µ—Ä—ã –ë–ï–ó –º–∞—à–∏–Ω: **15**

–û—Å—Ç–∞–ª—å–Ω—ã–µ 15 –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –ø–æ–∫–∞ –Ω–µ –∏–º–µ—é—Ç –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –º–∞—à–∏–Ω –≤ –Ω–∞—à–µ–π –ë–î.

---

## üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. ‚úÖ –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –Ω–∞–ª–∏—á–∏–µ `investor_id` –≤ –º–∞—à–∏–Ω–∞—Ö
- –ù–∞—à–ª–∏ 6-7 –º–∞—à–∏–Ω —Å –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏

### 2. ‚úÖ –ò–º–ø–æ—Ä—Ç –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
- –ü–æ–ª—É—á–∏–ª–∏ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö 18 –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –∏–∑ RentProg UI
- –°–æ–∑–¥–∞–ª–∏ –∑–∞–ø–∏—Å–∏ –≤ `rentprog_employees` —Å —Ä–æ–ª—å—é `'partner'`
- –í—Å–µ –ø–∞—Ä—Ç–Ω–µ—Ä—ã –∏–º–µ—é—Ç –¥–æ–ª—é 50/50

### 3. ‚úÖ –°–≤—è–∑—ã–≤–∞–Ω–∏–µ
- –ú–∞—à–∏–Ω—ã —É–∂–µ —Å–æ–¥–µ—Ä–∂–∞–ª–∏ `investor_id` –≤ –ø–æ–ª–µ `data`
- –ü–æ–ª–µ `cars.investor_id` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ JSON
- –°–≤—è–∑—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è 4 –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `rentprog_employees`

```sql
-- –ù–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
SELECT 
  rentprog_id,
  name,
  role
FROM rentprog_employees
WHERE role = 'partner'
ORDER BY rentprog_id;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 18 –∑–∞–ø–∏—Å–µ–π

### –¢–∞–±–ª–∏—Ü–∞ `cars`

```sql
-- –ú–∞—à–∏–Ω—ã —Å –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º–∏
SELECT 
  c.plate,
  c.model,
  b.name as branch,
  c.investor_id,
  rpe.name as investor_name
FROM cars c
JOIN branches b ON b.id = c.branch_id
LEFT JOIN rentprog_employees rpe ON rpe.rentprog_id::TEXT = c.investor_id::TEXT
WHERE c.investor_id IS NOT NULL
ORDER BY c.investor_id, c.plate;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 6-7 –º–∞—à–∏–Ω —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º

---

## üîç –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ü–∞—Ä—Ç–Ω—ë—Ä 739

**–°—Ç–∞—Ç—É—Å:** –ò–º–µ–µ—Ç –º–∞—à–∏–Ω—ã, –Ω–æ –Ω–µ –≤ —Å–ø–∏—Å–∫–µ –∏–º–ø–æ—Ä—Ç–∞

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –ü–∞—Ä—Ç–Ω—ë—Ä –±—ã–ª —É–¥–∞–ª–µ–Ω –∏–∑ RentProg, –Ω–æ –º–∞—à–∏–Ω—ã –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–∏–≤—è–∑–∞–Ω—ã
2. –ú–∞—à–∏–Ω—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏–∑ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–∞—à–∏–Ω

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** 
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ RentProg API —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–∞—Ä—Ç–Ω—ë—Ä 739
- –ï—Å–ª–∏ –¥–∞ - –¥–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é
- –ï—Å–ª–∏ –Ω–µ—Ç - —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–∞—à–∏–Ω

### –î–æ–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤

–í—Å–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã –∏–º–µ—é—Ç –¥–æ–ª—é **50/50**, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Ä–∞–≤–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞ —Å –∫–æ–º–ø–∞–Ω–∏–µ–π.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```sql
-- –í—Å–µ –ø–∞—Ä—Ç–Ω–µ—Ä—ã
SELECT COUNT(*) FROM rentprog_employees WHERE role = 'partner';
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: 18

-- –ü–∞—Ä—Ç–Ω–µ—Ä—ã —Å –º–∞—à–∏–Ω–∞–º–∏
SELECT 
  rpe.rentprog_id,
  rpe.name,
  COUNT(c.id) as cars_count
FROM rentprog_employees rpe
LEFT JOIN cars c ON c.investor_id::TEXT = rpe.rentprog_id::TEXT
WHERE rpe.role = 'partner'
GROUP BY rpe.rentprog_id, rpe.name
HAVING COUNT(c.id) > 0
ORDER BY cars_count DESC;
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: 3-4 –ø–∞—Ä—Ç–Ω–µ—Ä–∞ —Å –º–∞—à–∏–Ω–∞–º–∏
```

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- ‚úÖ **–ü–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ:** 18
- ‚úÖ **–ü–∞—Ä—Ç–Ω—ë—Ä–æ–≤ —Å –º–∞—à–∏–Ω–∞–º–∏:** 4
- ‚ö™ **–ü–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –±–µ–∑ –º–∞—à–∏–Ω:** 15
- üöó **–ú–∞—à–∏–Ω –ø—Ä–∏–≤—è–∑–∞–Ω–æ:** 6-7
- ‚ö° **–í—Ä–µ–º—è –∏–º–ø–æ—Ä—Ç–∞:** < 5 —Å–µ–∫—É–Ω–¥

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 1. –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞ 739
```sql
-- –ù–∞–π—Ç–∏ –¥–µ—Ç–∞–ª–∏ –≤ –¥–∞–Ω–Ω—ã—Ö –º–∞—à–∏–Ω
SELECT 
  c.plate,
  c.data->>'investor_id' as investor_id_from_data,
  c.data->'investor' as investor_data
FROM cars c
WHERE c.investor_id = 739;
```

### 2. –°–æ–∑–¥–∞—Ç—å view –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
```sql
CREATE OR REPLACE VIEW cars_with_investors AS
SELECT 
  c.id,
  c.plate,
  c.model,
  b.name as branch_name,
  c.investor_id,
  rpe.name as investor_name,
  rpe.role as investor_role
FROM cars c
LEFT JOIN branches b ON b.id = c.branch_id
LEFT JOIN rentprog_employees rpe ON rpe.rentprog_id::TEXT = c.investor_id::TEXT
WHERE c.investor_id IS NOT NULL
ORDER BY c.investor_id, c.plate;
```

### 3. –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –î–æ–±–∞–≤–∏—Ç—å –≤ cron —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –∏–∑ RentProg API
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –∏–º–µ–Ω–∞ –∏ –¥–æ–ª–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –Ω–æ–≤—ã—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤

---

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

1. ‚ö° **–°–∫–æ—Ä–æ—Å—Ç—å:** –ò–º–ø–æ—Ä—Ç –∑–∞ —Å–µ–∫—É–Ω–¥—ã vs —á–∞—Å—ã —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã
2. üéØ **–¢–æ—á–Ω–æ—Å—Ç—å:** –î–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (RentProg UI)
3. üîÑ **–ü–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å:** –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. üìä **–ü–æ–ª–Ω–æ—Ç–∞:** –í—Å–µ 18 –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
5. üîó **–°–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å —Å –º–∞—à–∏–Ω–∞–º–∏ —á–µ—Ä–µ–∑ `investor_id`

---

**–ó–∞–¥–∞—á–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∞! üéâ**

–í—Å–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –ë–î –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.
–ú–∞—à–∏–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω—ã —Å –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏ —á–µ—Ä–µ–∑ –ø–æ–ª–µ `investor_id`.

