# n8n Retry –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è RentProg API

**–î–∞—Ç–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:** 2025-11-09  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–Ω–µ–¥—Ä–µ–Ω–æ –≤–æ –≤—Å–µ—Ö workflow

---

## üéØ –¶–µ–ª—å

–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –≤—Å–µ—Ö HTTP Request –Ω–æ–¥, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ RentProg API, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–±–æ—è—Ö —Å–µ—Ç–∏ –∏–ª–∏ Rate Limit –æ—à–∏–±–∫–∞—Ö (429).

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Retry

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–ª—è –≤—Å–µ—Ö –Ω–æ–¥):**
- **–í–∫–ª—é—á–µ–Ω–æ:** ‚úÖ –î–∞
- **–ú–∞–∫—Å–∏–º—É–º –ø–æ–ø—ã—Ç–æ–∫:** 3
- **–ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏:** 10 —Å–µ–∫—É–Ω–¥ (10000 –º—Å)

**Retry –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏:**
- HTTP 429 (Too Many Requests)
- HTTP 5xx (Server Errors: 500, 502, 503, 504)
- Network timeout
- Connection errors

**Retry –ù–ï –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏:**
- HTTP 4xx (–∫—Ä–æ–º–µ 429): 400, 401, 403, 404 –∏ —Ç.–¥.
- –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200-299)

---

## üìã –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ Workflow

### 1. Processor Workflows (4 —Ñ–∏–ª–∏–∞–ª–∞)

–≠—Ç–∏ workflow –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤–µ–±—Ö—É–∫–∏ –æ—Ç RentProg –∏ –¥–µ–ª–∞—é—Ç auto-fetch –¥–∞–Ω–Ω—ã—Ö.

#### 1.1 –¢–±–∏–ª–∏—Å–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤
- **ID:** `P65bXE5Xhupkxxw6`
- **HTTP Request –Ω–æ–¥—ã —Å retry:**
  - `Fetch Car` ‚Üí `/cars` endpoint
  - `Fetch Client` ‚Üí `/search_clients` endpoint
  - `Fetch Booking` ‚Üí `/search_bookings` endpoint

#### 1.2 –ë–∞—Ç—É–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤
- **ID:** `YsBma7qYsdsDykTq`
- **HTTP Request –Ω–æ–¥—ã —Å retry:**
  - `Fetch Car`
  - `Fetch Client`
  - `Fetch Booking`

#### 1.3 –ö—É—Ç–∞–∏—Å–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤
- **ID:** `gJPvJwGQSi8455s9`
- **HTTP Request –Ω–æ–¥—ã —Å retry:**
  - `Fetch Car`
  - `Fetch Client`
  - `Fetch Booking`

#### 1.4 –ê–≤—Ç–æ—Å–µ—Ä–≤–∏—Å –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤
- **ID:** `PbDKuU06H7s2Oem8`
- **HTTP Request –Ω–æ–¥—ã —Å retry:**
  - `Fetch Car`
  - `Fetch Client`
  - `Fetch Booking`

---

### 2. Scheduled Workflows (–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä—Å–µ—Ä—ã)

#### 2.1 –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Å—Å –∫–æ–º–ø–∞–Ω–∏–∏ —Ä–∞–∑ –≤ 3 –º–∏–Ω—É—Ç—ã
- **ID:** `w8g8cJb0ccReaqIE`
- **HTTP Request –Ω–æ–¥—ã —Å retry:**
  - `Get Tbilisi` ‚Üí `/company_counts_v2` endpoint
  - `Get Batumi` ‚Üí `/company_counts_v2` endpoint
  - `Get Kutaisi` ‚Üí `/company_counts_v2` endpoint
  - `Get Service` ‚Üí `/company_counts_v2` endpoint

#### 2.2 –ü–∞—Ä—Å–∏–Ω–≥ –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ —Ñ–∏–ª–∏–∞–ª–∞–º —Ä–∞–∑ –≤ 3 –º–∏–Ω—É—Ç—ã
- **ID:** `xSjwtwrrWUGcBduU`
- **HTTP Request –Ω–æ–¥—ã —Å retry:**
  - `Get Tbilisi` ‚Üí `/operations` endpoint
  - `Get Batumi` ‚Üí `/operations` endpoint
  - `Get Kutaisi` ‚Üí `/operations` endpoint
  - `Get Service` ‚Üí `/operations` endpoint

#### 2.3 –ù–æ—á–Ω–æ–π –ø–∞—Ä—Å–∏–Ω–≥ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –∏—Ö –∫–∞—Å—Å
- **ID:** `8jkfmWF2dTtnlMHj`
- **Cron:** –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 04:00 (Tbilisi time)
- **HTTP Request –Ω–æ–¥—ã —Å retry:**
  - `Get Users from RentProg` ‚Üí `/users` endpoint

---

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Retry –º–µ—Ö–∞–Ω–∏–∑–º n8n

n8n HTTP Request node –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É retry —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `options.retry`:

```json
{
  "options": {
    "retry": {
      "enabled": true,
      "maxTries": 3,
      "waitBetweenTries": 10000
    }
  }
}
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ retry:

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ:** –ù–µ –º–µ–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É workflow  
‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ:** –í–∏–¥–Ω–æ –≤ UI n8n  
‚úÖ **–ì–∏–±–∫–æ:** –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–¥—ã  
‚úÖ **–õ–æ–≥–∏—Ä—É–µ—Ç—Å—è:** n8n –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –≤ execution logs  

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç

### –î–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:
- ‚ùå 429 –æ—à–∏–±–∫–∏ –ø—Ä–∏–≤–æ–¥–∏–ª–∏ –∫ –ø–æ—Ç–µ—Ä–µ —Å–æ–±—ã—Ç–∏–π
- ‚ùå –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–±–æ–∏ —Å–µ—Ç–∏ —Ç—Ä–µ–±–æ–≤–∞–ª–∏ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- ‚ùå –ù–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ 429
- ‚úÖ –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å–±–æ—è–º
- ‚úÖ –ü–æ–ª–Ω–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ (3 –ø–æ–ø—ã—Ç–∫–∏)
- ‚úÖ –°–Ω–∏–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–ª–µ—Ä—Ç–æ–≤

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ retry —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å 429 –æ—à–∏–±–∫—É:**
   - –°–æ–∑–¥–∞—Ç—å –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ RentProg –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å execution logs –≤ n8n
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã retry –ø–æ–ø—ã—Ç–∫–∏

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å execution logs:**
   - –û—Ç–∫—Ä—ã—Ç—å workflow ‚Üí Executions
   - –ù–∞–π—Ç–∏ execution —Å –æ—à–∏–±–∫–æ–π
   - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏ HTTP Request –Ω–æ–¥—ã
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –ø–æ–ø—ã—Ç–∫–∏ 1/3, 2/3, 3/3

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –°–æ–±—ã—Ç–∏—è –≤ —Ç–∞–±–ª–∏—Ü–µ `events` –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è
   - –ú–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫ 429 –≤ –ª–æ–≥–∞—Ö
   - –ë–æ–ª—å—à–µ —É—Å–ø–µ—à–Ω—ã—Ö executions

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –ù–µ –≤—Å–µ 429 –º–æ–∂–Ω–æ –ø–æ–±–µ–¥–∏—Ç—å retry
–ï—Å–ª–∏ RentProg –±–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–∞—Å –Ω–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (>30 —Å–µ–∫), retry –Ω–µ –ø–æ–º–æ–∂–µ—Ç. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:
- –°–æ–±—ã—Ç–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `events` —Ç–∞–±–ª–∏—Ü—É
- Cron workflow "RentProg Upsert Processor" –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–∑–∂–µ

### 2. –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã —Å–æ–±–ª—é–¥–∞—é—Ç—Å—è
–î–∞–∂–µ —Å retry –º—ã —É–∫–ª–∞–¥—ã–≤–∞–µ–º—Å—è –≤ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã:
- 1.5 —Å–µ–∫ –º–µ–∂–¥—É GET –∑–∞–ø—Ä–æ—Å–∞–º–∏ = ~40/–º–∏–Ω (–ª–∏–º–∏—Ç 120/–º–∏–Ω)
- 10 —Å–µ–∫ retry delay –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É

### 3. continueOnFail –≤–∫–ª—é—á–µ–Ω
–í—Å–µ HTTP Request –Ω–æ–¥—ã –∏–º–µ—é—Ç `continueOnFail: true`, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- Workflow –Ω–µ —É–ø–∞–¥—ë—Ç –ø—Ä–∏ 3 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∞—Ö
- –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –Ω–æ–¥–∞—Ö
- –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [RENTPROG_API_LIMITS.md](./RENTPROG_API_LIMITS.md) - –õ–∏–º–∏—Ç—ã RentProg API
- [RENTPROG_QUICK_REFERENCE.md](./RENTPROG_QUICK_REFERENCE.md) - –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞
- [SESSION_REPORT_NGINX_NETLIFY_MIGRATION.md](../SESSION_REPORT_NGINX_NETLIFY_MIGRATION.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–µ–±—Ö—É–∫–æ–≤

---

## üîÑ –ú–µ—Ç–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** MCP n8n (`n8n_update_partial_workflow`)  
**–ü–æ–¥—Ö–æ–¥:** –•–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–∏–π - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –Ω–æ–¥  

**–ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã:**
```javascript
{
  "type": "updateNode",
  "nodeId": "fetch-car",
  "updates": {
    "parameters": {
      "options": {
        "retry": {
          "enabled": true,
          "maxTries": 3,
          "waitBetweenTries": 10000
        }
      }
    }
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–∑–º–µ–Ω–µ–Ω—ã —Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã retry, –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–æ–¥ –Ω–µ —Ç—Ä–æ–Ω—É—Ç–∞.

---

## ‚úÖ Checklist

- [x] 4 processor workflows –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- [x] 3 scheduled workflows –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- [x] –í—Å–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ 15 HTTP Request –Ω–æ–¥
- [x] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ n8n UI
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [x] –ö–æ–º–∞–Ω–¥–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∞

---

**–ê–≤—Ç–æ—Ä:** AI Assistant (Claude Sonnet 4.5)  
**–î–∞—Ç–∞:** 2025-11-09  
**–í–µ—Ä—Å–∏—è:** 1.0

