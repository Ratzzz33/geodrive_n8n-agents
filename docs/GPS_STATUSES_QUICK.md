# GPS –°—Ç–∞—Ç—É—Å—ã ‚Äî –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞

## üö¶ 5 —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ –ë–î (–ø–æ–ª–µ `status`)

| –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ | –£—Å–ª–æ–≤–∏–µ | –ö–æ–ª-–≤–æ |
|-----|----------|---------|--------|
| **offline** üî¥ | **–ù–µ—Ç —Å–≤—è–∑–∏** | `device.status === 0` | ~15 |
| **gps_offline** üü° | **–°–ª–∞–±—ã–π GPS** | `gps_lvl === 0` | ~3 |
| **moving** üü¢ | **–ï–¥–µ—Ç** | `speed > 5` –ò–õ–ò (`ign && run`) | ~6 |
| **parked_on** üü† | **–°—Ç–æ–∏—Ç (–∑–∞–≤–µ–¥–µ–Ω–∞)** | `ign && !run` | ~0 |
| **parked_off** ‚ö™ | **–ü—Ä–∏–ø–∞—Ä–∫–æ–≤–∞–Ω–∞** | –í—Å—ë –≤—ã–∫–ª—é—á–µ–Ω–æ | ~93 |

### üí¨ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ

```typescript
import { getStatusDisplay, getStatusLabel } from '@/types/gps-status';

// –ü–æ–ª–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —ç–º–æ–¥–∑–∏
const display = getStatusDisplay('moving'); // "üü¢ –ï–¥–µ—Ç"

// –¢–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ
const label = getStatusLabel('parked_off'); // "–ü—Ä–∏–ø–∞—Ä–∫–æ–≤–∞–Ω–∞"
```

---

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
node check_statuses_in_db.mjs

# SQL –∑–∞–ø—Ä–æ—Å
SELECT status, COUNT(*) FROM gps_tracking GROUP BY status;
```

---

## üîÑ –õ–æ–≥–∏–∫–∞ (–ø–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫)

```
1. status=0?           ‚Üí offline
2. gps_lvl=0?          ‚Üí gps_offline  
3. speed>5 –∏–ª–∏ ign+run ‚Üí moving
4. ign && !run         ‚Üí parked_on
5. –∏–Ω–∞—á–µ               ‚Üí parked_off
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ!

- **"–≤ —Å–µ—Ç–∏" ‚â† `moving`** ‚Äî —ç—Ç–æ —Å—Ç–∞—Ç—É—Å –°–í–Ø–ó–ò, –Ω–µ –¥–≤–∏–∂–µ–Ω–∏—è!
- **`is_moving` ‚â† `status`** ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –∫–∞–∂–¥—ã–µ 2-5 –º–∏–Ω—É—Ç
- **–ò—Å—Ç–æ—Ä–∏—è:** –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å)

---

**–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [GPS_STATUSES.md](./GPS_STATUSES.md)

