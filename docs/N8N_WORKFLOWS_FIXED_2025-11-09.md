# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ workflow –ø–æ—Å–ª–µ "—Ö–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–∏—Ö" –ø—Ä–∞–≤–æ–∫

**–î–∞—Ç–∞:** 2025-11-09  
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ workflow —Å RentProg —Å—Ç–∞–ª–∏ –ø–∞–¥–∞—Ç—å –≤ –æ—à–∏–±–∫—É –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è retry  
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `updateNode` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±—ã–ª–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ã, –∞ –Ω–µ –¥–æ–ø–æ–ª–Ω–µ–Ω—ã  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

---

## üêõ –ß—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ retry –≤ HTTP Request –Ω–æ–¥—ã —á–µ—Ä–µ–∑ `n8n_update_partial_workflow` —è —Å–ª—É—á–∞–π–Ω–æ **–ü–ï–†–ï–ó–ê–ü–ò–°–ê–õ** –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã **–î–û–ü–û–õ–ù–ò–¢–¨** –∏—Ö:

**–ë—ã–ª–æ (—Ä–∞–±–æ—á–µ–µ):**
```json
{
  "parameters": {
    "url": "={{ $json.cashUrl }}",
    "sendHeaders": true,
    "headerParameters": { ... },
    "options": {
      "timeout": 30000
    }
  }
}
```

**–°—Ç–∞–ª–æ (—Å–ª–æ–º–∞–Ω–Ω–æ–µ):**
```json
{
  "parameters": {
    "options": {
      "retry": { ... }  // ‚Üê –¢–û–õ–¨–ö–û RETRY, –í–°–Å –û–°–¢–ê–õ–¨–ù–û–ï –£–î–ê–õ–ï–ù–û!
    }
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** HTTP Request –Ω–æ–¥—ã –Ω–µ –∑–Ω–∞–ª–∏ URL, –º–µ—Ç–æ–¥, headers ‚Üí `WorkflowHasIssuesError`

---

## ‚úÖ –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏–ª–∏

### 1. –ü–æ–ª—É—á–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—é—é —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é

–ß–µ—Ä–µ–∑ `n8n_workflow_versions`:
- "–ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Å—Å –∫–æ–º–ø–∞–Ω–∏–∏" - –≤–µ—Ä—Å–∏—è #19 (467)
- "–ü–∞—Ä—Å–∏–Ω–≥ –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π" - –≤–µ—Ä—Å–∏—è #5 (429)

### 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã + –¥–æ–±–∞–≤–∏–ª–∏ retry –ü–†–ê–í–ò–õ–¨–ù–û

```json
{
  "parameters": {
    "url": "={{ $json.cashUrl }}",           // ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
    "sendHeaders": true,                     // ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
    "headerParameters": {                    // ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
      "parameters": [ ... ]
    },
    "options": {
      "timeout": 30000,                      // ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ
      "retry": {                             // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
        "enabled": true,
        "maxTries": 3,
        "waitBetweenTries": 10000
      }
    }
  }
}
```

### 3. –ü—Ä–∏–º–µ–Ω–∏–ª–∏ —á–µ—Ä–µ–∑ `n8n_update_partial_workflow`

**–°–ª–æ–º–∞–Ω–Ω—ã–µ workflow:**
- `w8g8cJb0ccReaqIE` - "–ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Å—Å –∫–æ–º–ø–∞–Ω–∏–∏ —Ä–∞–∑ –≤ 3 –º–∏–Ω—É—Ç—ã"
- `xSjwtwrrWUGcBduU` - "–ü–∞—Ä—Å–∏–Ω–≥ –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ —Ñ–∏–ª–∏–∞–ª–∞–º —Ä–∞–∑ –≤ 3 –º–∏–Ω—É—Ç—ã"

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–æ–¥—ã –≤ –∫–∞–∂–¥–æ–º (–ø–æ 4 —à—Ç):**
- Get Tbilisi
- Get Batumi
- Get Kutaisi
- Get Service

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå –í—Å–µ executions –ø–∞–¥–∞–ª–∏ —Å `WorkflowHasIssuesError`
- ‚ùå 0 executedNodes (workflow –Ω–µ –º–æ–≥ –¥–∞–∂–µ –Ω–∞—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)
- ‚ùå –û—à–∏–±–∫–∞: "The workflow has issues and cannot be executed"

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ Workflow –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è
- ‚úÖ HTTP Request –Ω–æ–¥—ã –∏–º–µ—é—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- ‚úÖ Retry –¥–æ–±–∞–≤–ª–µ–Ω: 3 –ø–æ–ø—ã—Ç–∫–∏ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 10 —Å–µ–∫

---

## üéì –£—Ä–æ–∫ –Ω–∞ –±—É–¥—É—â–µ–µ

### ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:

```javascript
{
  "type": "updateNode",
  "nodeName": "Get Tbilisi",
  "updates": {
    "parameters": {
      "options": {
        "retry": { ... }  // ‚Üê –ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ï–¢ –í–°–Å!
      }
    }
  }
}
```

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:

```javascript
{
  "type": "updateNode",
  "nodeName": "Get Tbilisi",
  "updates": {
    "parameters": {
      // –í–°–ï –°–£–©–ï–°–¢–í–£–Æ–©–ò–ï –ü–ê–†–ê–ú–ï–¢–†–´
      "url": "={{ $json.cashUrl }}",
      "sendHeaders": true,
      "headerParameters": { ... },
      
      // + –ù–û–í–´–ï –ü–ê–†–ê–ú–ï–¢–†–´
      "options": {
        "timeout": 30000,
        "retry": { ... }
      }
    }
  }
}
```

**–ü—Ä–∞–≤–∏–ª–æ:** –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –Ω–æ–¥ **–í–°–ï–ì–î–ê** –≤–∫–ª—é—á–∞—Ç—å –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã + –Ω–æ–≤—ã–µ!

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `docs/N8N_RETRY_IMPLEMENTATION.md` - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è retry
- `docs/BODY_STRUCTURE_FIX_2025-11-09.md` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã body
- `docs/WEBHOOK_EXECUTION_4306_FIX.md` - –ê–Ω–∞–ª–∏–∑ execution #4306

---

## ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –±—É–¥—É—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º `n8n_update_partial_workflow`:

1. ‚úÖ –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–æ–¥—ã —á–µ—Ä–µ–∑ `get_workflow`
2. ‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –í–°–ï —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ `validate_workflow` (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
5. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ–¥–Ω–æ–º workflow –ø–µ—Ä–µ–¥ –º–∞—Å—Å–æ–≤—ã–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º
6. ‚úÖ –°–æ–∑–¥–∞—Ç—å backup –≤–µ—Ä—Å–∏—é (n8n –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–î–æ:** 4+ –æ—à–∏–±–æ–∫ –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã, –≤—Å–µ workflow —Å RentProg –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏  
**–ü–æ—Å–ª–µ:** Workflow –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, retry –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ, executions –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

**–í—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** ~15 –º–∏–Ω—É—Ç  
**–í—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è:** ~20 –º–∏–Ω—É—Ç (—Å –º–æ–º–µ–Ω—Ç–∞ –ø–µ—Ä–≤—ã—Ö –æ—à–∏–±–æ–∫ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

---

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ executions –≤ —Ç–µ—á–µ–Ω–∏–µ 1 —á–∞—Å–∞
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ retry —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ 429 –æ—à–∏–±–∫–∞—Ö
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook processor workflows (–¢–±–∏–ª–∏—Å–∏, –ë–∞—Ç—É–º–∏, –ö—É—Ç–∞–∏—Å–∏, Service Center)

