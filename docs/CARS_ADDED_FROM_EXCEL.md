# ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –º–∞—à–∏–Ω –∏–∑ Excel

**–î–∞—Ç–∞:** 2025-11-14  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û  

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ–±–∞–≤–ª–µ–Ω–æ –º–∞—à–∏–Ω: **3**

–í—Å–µ –º–∞—à–∏–Ω—ã —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ç–∞–±–ª–∏—Ü—É `cars` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–æ–º–µ—Ä–∞–º–∏ (–±–µ–∑ —Å–∏–º–≤–æ–ª–∞ "/").

| ‚Ññ | –ù–æ–º–µ—Ä | –ú–æ–¥–µ–ª—å | –§–∏–ª–∏–∞–ª | RentProg ID | VIN | –ì–æ–¥ |
|---|-------|--------|--------|-------------|-----|-----|
| 1 | **TT780TR** | Skoda Kodiaq | –ö—É—Ç–∞–∏—Å–∏ | 54504 | XW8LD6NS1LH401873 | 2019 |
| 2 | **IV430AN** | BMW 430i Cabrio | –°–µ—Ä–≤–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä | 63041 | WBA4Z1C00L5N40567 | 2019 |
| 3 | **CC760XC** | Buick Encore | –ë–∞—Ç—É–º–∏ | 66996 | KL4CJ2SB2JB535769 | 2018 |

---

## üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. ‚úÖ –£–¥–∞–ª—ë–Ω —Å–∏–º–≤–æ–ª "/" –∏–∑ –Ω–æ–º–µ—Ä–æ–≤
- CSV: `TT780TR/` ‚Üí –ë–î: `TT780TR`
- CSV: `IV430AN/` ‚Üí –ë–î: `IV430AN`
- CSV: `CC760XC/` ‚Üí –ë–î: `CC760XC`

### 2. ‚úÖ –°–æ–∑–¥–∞–Ω—ã –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `cars`
–î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è:
- `plate` - –Ω–æ–º–µ—Ä –º–∞—à–∏–Ω—ã
- `model` - –º–æ–¥–µ–ª—å
- `branch_id` - UUID —Ñ–∏–ª–∏–∞–ª–∞
- `vin` - VIN –∫–æ–¥
- `year` - –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞
- `data` - JSONB —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### 3. ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Å–≤—è–∑–∏ `external_refs`
–î–ª—è –∫–∞–∂–¥–æ–π –º–∞—à–∏–Ω—ã —Å–æ–∑–¥–∞–Ω–∞ –∑–∞–ø–∏—Å—å –≤ `external_refs`:
- `entity_type` = 'car'
- `system` = 'rentprog'
- `external_id` = RentProg ID –º–∞—à–∏–Ω—ã

---

## üìã UUID —Ñ–∏–ª–∏–∞–ª–æ–≤

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ UUID –∏–∑ –ë–î:

```javascript
{
  '–¢–±–∏–ª–∏—Å–∏': '277eaada-1428-4c04-9cd7-5e614e43bedc',
  '–ë–∞—Ç—É–º–∏': '627c4c88-d8a1-47bf-b9a6-2e9ad33112a4',
  '–ö—É—Ç–∞–∏—Å–∏': '5e551b32-934c-498f-a4a1-a90079985c0a',
  '–°–µ—Ä–≤–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä': '6026cff7-eee8-4fb9-be26-604f308911f0'
}
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

```sql
SELECT 
  c.plate,
  c.model,
  b.name as branch,
  er.external_id as rentprog_id,
  c.vin,
  c.year
FROM cars c
LEFT JOIN branches b ON b.id = c.branch_id
LEFT JOIN external_refs er ON er.entity_id = c.id 
  AND er.entity_type = 'car' 
  AND er.system = 'rentprog'
WHERE c.plate IN ('TT780TR', 'IV430AN', 'CC760XC')
ORDER BY c.plate;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
TT780TR | Skoda Kodiaq      | –ö—É—Ç–∞–∏—Å–∏          | 54504 | XW8LD6NS1LH401873 | 2019
IV430AN | BMW 430i Cabrio   | –°–µ—Ä–≤–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä  | 63041 | WBA4Z1C00L5N40567 | 2019
CC760XC | Buick Encore      | –ë–∞—Ç—É–º–∏           | 66996 | KL4CJ2SB2JB535769 | 2018
```

---

## üìä –û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Excel vs –ë–î

### –î–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:
- CSV: 128 –º–∞—à–∏–Ω
- –ë–î: 136 –º–∞—à–∏–Ω
- –¢–æ–ª—å–∫–æ –≤ CSV: **11 –º–∞—à–∏–Ω** (—Å —É—á—ë—Ç–æ–º "/" –¥—É–±–ª–∏–∫–∞—Ç–æ–≤)

### –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:
- CSV: 128 –º–∞—à–∏–Ω
- –ë–î: **139 –º–∞—à–∏–Ω** (+3)
- –¢–æ–ª—å–∫–æ –≤ CSV: **8 –º–∞—à–∏–Ω** (—Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –¥—É–±–ª–∏–∫–∞—Ç—ã —Å "/")

---

## üéØ –û—Å—Ç–∞–ª–∏—Å—å —Ä–∞–∑–ª–∏—á–∏—è

### –î—É–±–ª–∏–∫–∞—Ç—ã —Å "/" –≤ CSV (7 –º–∞—à–∏–Ω)

–≠—Ç–∏ –º–∞—à–∏–Ω—ã —É–∂–µ –µ—Å—Ç—å –≤ –ë–î, –Ω–æ –≤ CSV –∏–º–µ—é—Ç "/" –≤ –∫–æ–Ω—Ü–µ:

| CSV (—Å "/") | –ë–î (–±–µ–∑ "/") | –°—Ç–∞—Ç—É—Å |
|-------------|--------------|---------|
| MM207LM/ | MM207LM | ‚úÖ –î—É–±–ª–∏–∫–∞—Ç |
| UU630UL/ | UU630UL | ‚úÖ –î—É–±–ª–∏–∫–∞—Ç |
| WW080UU/ | WW080UU | ‚úÖ –î—É–±–ª–∏–∫–∞—Ç |
| RR307QQ/ | RR307QQ | ‚úÖ –î—É–±–ª–∏–∫–∞—Ç |
| LB713BB/ | LB713BB | ‚úÖ –î—É–±–ª–∏–∫–∞—Ç |
| BZ551ZB/ | BZ551ZB | ‚úÖ –î—É–±–ª–∏–∫–∞—Ç |
| SS966SJ/ | SS966SJ | ‚úÖ –î—É–±–ª–∏–∫–∞—Ç |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–±—Ä–∞—Ç—å "/" –∏–∑ Excel —Ñ–∞–π–ª–∞ –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è.

### –ú–∞—à–∏–Ω—ã –±–µ–∑ —Ñ–∏–ª–∏–∞–ª–∞ –≤ –ë–î (7 –º–∞—à–∏–Ω)

–í–æ–∑–º–æ–∂–Ω–æ —É–¥–∞–ª–µ–Ω—ã/–ø—Ä–æ–¥–∞–Ω—ã/–Ω–∞ —Ä–µ–º–æ–Ω—Ç–µ:
- BW690BB, CE111LO, FH785FH, GG773GN, HH018VV, HL841LH, VV583MV

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —ç—Ç–∏—Ö –º–∞—à–∏–Ω –∏ –ª–∏–±–æ —É–¥–∞–ª–∏—Ç—å –∏–∑ –ë–î, –ª–∏–±–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ñ–∏–ª–∏–∞–ª.

---

## ‚úÖ –ò—Ç–æ–≥

**–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!** 

–í—Å–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –º–∞—à–∏–Ω—ã –∏–∑ Excel —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –ë–î —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–æ–º–µ—Ä–∞–º–∏ (–±–µ–∑ "/"), —Ñ–∏–ª–∏–∞–ª–∞–º–∏ –∏ RentProg ID.

–¢–µ–ø–µ—Ä—å –¥–∞–Ω–Ω—ã–µ Excel –∏ –ë–î –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã! üéâ

