# üîß –û—Ç—á–µ—Ç –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –æ—à–∏–±–∫–∏ –≤ execution #27816

**Workflow:** ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ü–µ–Ω –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π (RentProg) —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏  
**Execution ID:** 27816  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 2025-11-21T12:19:06.914Z - 2025-11-21T12:19:39.192Z  
**–°—Ç–∞—Ç—É—Å:** error  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 32.3 —Å–µ–∫—É–Ω–¥—ã  

---

## ‚ùå –û–®–ò–ë–ö–ê

### –ü—Ä–æ–±–ª–µ–º–∞ –≤ –Ω–æ–¥–µ "Split Cars and Prices"

**–û—à–∏–±–∫–∞:**
```
Wrong type: '227213' is a number but was expecting a string [condition 0, item 124]
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `price_id` –∫–∞–∫ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `227213`)
- –ù–æ–¥–∞ "Split Cars and Prices" –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `price_id` —Å —Ç–∏–ø–æ–º `string` –∏ –æ–ø–µ—Ä–∞—Ü–∏–µ–π `isNotEmpty`
- n8n —Å `typeValidation: "strict"` —Ç—Ä–µ–±—É–µ—Ç —Ç–æ—á–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–∏–ø–æ–≤

**–î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏:**
- –ù–æ–¥–∞: "Split Cars and Prices" (IF –Ω–æ–¥–∞)
- –£—Å–ª–æ–≤–∏–µ: `$json.price_id` (—á–∏—Å–ª–æ) vs `""` (—Å—Ç—Ä–æ–∫–∞)
- –û–ø–µ—Ä–∞—Ç–æ—Ä: `string.isNotEmpty`
- –†–µ–∂–∏–º: `typeValidation: "strict"`

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

### 1. –ù–æ–¥–∞ "Normalize Cars"

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:**
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ `price_id` –≤ —Å—Ç—Ä–æ–∫—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ü–µ–Ω

**–ö–æ–¥:**
```javascript
priceResults.push({
  json: {
    branch_code: branchCode,
    branch_id: branchId,
    rentprog_id: rentprogId,
    price_id: String(priceId), // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å—Ç—Ä–æ–∫—É
    season_id: seasonId,
    // ...
  }
});
```

### 2. –ù–æ–¥–∞ "Split Cars and Prices"

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:**
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ `price_id` –≤ —Å—Ç—Ä–æ–∫—É –≤ —É—Å–ª–æ–≤–∏–∏ –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π

**–ë—ã–ª–æ:**
```javascript
leftValue: "={{ $json.price_id }}"
operator: { type: "string", operation: "isNotEmpty" }
```

**–°—Ç–∞–ª–æ:**
```javascript
leftValue: "={{ String($json.price_id || '') }}"
operator: { type: "string", operation: "isNotEmpty" }
```

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–†–û–í–ï–†–ö–ò

### Execution #27816

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå –ù–æ–¥–∞ "Normalize Cars": success (1535 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- ‚ùå –ù–æ–¥–∞ "Split Cars and Prices": error (0 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- ‚ùå Execution: error

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –ù–æ–¥–∞ "Normalize Cars": –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç `price_id` –≤ —Å—Ç—Ä–æ–∫—É
- ‚úÖ –ù–æ–¥–∞ "Split Cars and Prices": –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç `price_id` –≤ —Å—Ç—Ä–æ–∫—É –≤ —É—Å–ª–æ–≤–∏–∏
- ‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è: execution –¥–æ–ª–∂–µ–Ω –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —É—Å–ø–µ—à–Ω–æ

---

## ‚úÖ –ó–ê–©–ò–¢–ê –û–¢ –ü–£–°–¢–´–• –ó–ù–ê–ß–ï–ù–ò–ô

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ü–µ–Ω—ã –∏–º–µ—é—Ç –≤–∞–ª–∏–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ –ù–µ—Ç –∑–∞—Ç–∏—Ä–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

---

## üìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### 1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π workflow

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å workflow –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –¥–æ–∂–¥–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å execution –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ:
   - –ù–æ–¥–∞ "Split Cars and Prices" —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
   - –¶–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
   - –ú–∞—à–∏–Ω—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ workflow

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ workflow, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `price_id`, –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã.

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ô –í–´–í–û–î

### –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞

1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–æ–¥–∞ "Normalize Cars"** - `price_id` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫—É
2. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–æ–¥–∞ "Split Cars and Prices"** - `price_id` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫—É –≤ —É—Å–ª–æ–≤–∏–∏
3. ‚ö†Ô∏è  **–¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π execution

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –î–æ–∂–¥–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ workflow (2:00 –Ω–æ—á–∏)
2. –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å workflow –≤—Ä—É—á–Ω—É—é –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ execution –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ü–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 2025-11-21  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** 2025-11-21

