# ‚úÖ Telegram Alerts –æ—Ç–∫–ª—é—á–µ–Ω—ã –≤ 4 workflow –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤

**–î–∞—Ç–∞:** 2025-11-08  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ —Ö–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–∏

---

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–û—Ç–∫–ª—é—á–µ–Ω—ã **—Ç–æ–ª—å–∫–æ Telegram –Ω–æ–¥—ã** –≤ 4 workflow –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤ RentProg, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏.

---

## üìã –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ workflow

### 1. ‚úÖ –¢–±–∏–ª–∏—Å–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤
**ID:** `P65bXE5Xhupkxxw6`  
**URL:** https://n8n.rentflow.rentals/workflow/P65bXE5Xhupkxxw6

**–û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ –Ω–æ–¥—ã:**
- `format-telegram-alert` ‚Üí **disabled: true**
- `send-telegram-alert` ‚Üí **disabled: true**

**–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (webhook ‚Üí parse ‚Üí save ‚Üí upsert)

---

### 2. ‚úÖ –ë–∞—Ç—É–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤
**ID:** `YsBma7qYsdsDykTq`  
**URL:** https://n8n.rentflow.rentals/workflow/YsBma7qYsdsDykTq

**–û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ –Ω–æ–¥—ã:**
- `format-telegram-alert` ‚Üí **disabled: true**
- `send-telegram-alert` ‚Üí **disabled: true**

**–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

### 3. ‚úÖ –ö—É—Ç–∞–∏—Å–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤
**ID:** `gJPvJwGQSi8455s9`  
**URL:** https://n8n.rentflow.rentals/workflow/gJPvJwGQSi8455s9

**–û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ –Ω–æ–¥—ã:**
- `format-telegram-alert` ‚Üí **disabled: true**
- `send-telegram-alert` ‚Üí **disabled: true**

**–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

### 4. ‚úÖ –ê–≤—Ç–æ—Å–µ—Ä–≤–∏—Å –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤
**ID:** `PbDKuU06H7s2Oem8`  
**URL:** https://n8n.rentflow.rentals/workflow/PbDKuU06H7s2Oem8

**–û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ –Ω–æ–¥—ã:**
- `format-telegram-alert` ‚Üí **disabled: true**
- `send-telegram-alert` ‚Üí **disabled: true**

**–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

## üîß –ß—Ç–æ –ù–ï –∑–∞—Ç—Ä–æ–Ω—É—Ç–æ (—Ö–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥)

### ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:

```
Webhook ‚Üí Parse ‚Üí Save to Events ‚Üí Pass Data ‚Üí Switch by Operation
   ‚Üì                                                    ‚Üì
[Create]                                         [Update] ‚Üí Check Exists ‚Üí If Exists
   ‚Üì                                                    ‚Üì
Prepare Create ‚Üí Insert Entity                  Prepare Update ‚Üí Update Entity
   ‚Üì                                                    ‚Üì
Respond Success ‚úÖ                              Respond Success ‚úÖ
```

### ‚ùå –û—Ç–∫–ª—é—á–µ–Ω—ã —Ç–æ–ª—å–∫–æ:
```
Parse Webhook ‚Üí Format Telegram Alert (DISABLED) ‚Üí Send Telegram Alert (DISABLED)
```

**–≠—Ç–∏ –Ω–æ–¥—ã —Ä–∞–±–æ—Ç–∞–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –Ω–µ –≤–ª–∏—è–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫!**

---

## üé≠ –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Ä–∞–±–æ—á–∏–º

| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | –°—Ç–∞—Ç—É—Å |
|------------|--------|
| –ü—Ä–∏–µ–º –≤–µ–±—Ö—É–∫–æ–≤ –æ—Ç RentProg | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –ü–∞—Ä—Å–∏–Ω–≥ payload | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü—É `events` | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| Upsert –≤ –ë–î (cars/clients/bookings) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| Auto-fetch –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ UPDATE —Å–æ–±—ã—Ç–∏–π | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ CREATE —Å–æ–±—ã—Ç–∏–π | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ DELETE —Å–æ–±—ã—Ç–∏–π | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| Respond to Webhook | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** | ‚ùå **–û—Ç–∫–ª—é—á–µ–Ω—ã** |

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ú–µ—Ç–æ–¥ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Ñ–ª–∞–≥ `disabled: true` –Ω–∞ —É—Ä–æ–≤–Ω–µ –Ω–æ–¥—ã:

```json
{
  "id": "format-telegram-alert",
  "name": "Format Telegram Alert",
  "type": "n8n-nodes-base.code",
  "disabled": true  // ‚Üê –ù–æ–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
}
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

1. ‚úÖ **–û–±—Ä–∞—Ç–∏–º–æ:** –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
2. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ:** –ù–µ —É–¥–∞–ª—è–µ—Ç –Ω–æ–¥—ã –∏ connections
3. ‚úÖ **–í–∏–¥–∏–º–æ:** –í UI –Ω–æ–¥—ã –ø–æ–∫–∞–∑–∞–Ω—ã —Å–µ—Ä—ã–º —Ü–≤–µ—Ç–æ–º
4. ‚úÖ **–ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫:** –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞ –ø—Ä–æ—Å—Ç–æ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

---

## üîÑ –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ UI (–≤—Ä—É—á–Ω—É—é)

1. –û—Ç–∫—Ä–æ–π—Ç–µ workflow
2. –ù–∞–π–¥–∏—Ç–µ –Ω–æ–¥—ã "Format Telegram Alert" –∏ "Send Telegram Alert" (—Å–µ—Ä—ã–µ)
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí **Enable**
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ workflow

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ API (–º–∞—Å—Å–æ–≤–æ)

```javascript
// –í–∫–ª—é—á–∏—Ç—å Telegram –Ω–æ–¥—ã –≤–æ –≤—Å–µ—Ö 4 workflow
const workflows = [
  'P65bXE5Xhupkxxw6', // –¢–±–∏–ª–∏—Å–∏
  'YsBma7qYsdsDykTq', // –ë–∞—Ç—É–º–∏
  'gJPvJwGQSi8455s9', // –ö—É—Ç–∞–∏—Å–∏
  'PbDKuU06H7s2Oem8'  // –ê–≤—Ç–æ—Å–µ—Ä–≤–∏—Å
];

for (const wfId of workflows) {
  await updateWorkflow(wfId, {
    operations: [
      {type: "updateNode", nodeId: "format-telegram-alert", updates: {disabled: false}},
      {type: "updateNode", nodeId: "send-telegram-alert", updates: {disabled: false}}
    ]
  });
}
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ–±—Ö—É–∫:

```bash
curl -X POST https://webhook.rentflow.rentals/tbilisi-webhook \
  -H "Content-Type: application/json" \
  -d '{"event":"car_update","payload":{"id":12345}}'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í–µ–±—Ö—É–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `events`
- ‚úÖ Upsert –≤—ã–ø–æ–ª–Ω–µ–Ω
- ‚úÖ Response –≤–µ—Ä–Ω—É–ª—Å—è: `{ok: true, ...}`
- ‚ùå Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ **–ù–ï –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ**

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| Workflow | –ù–æ–¥—ã –≤—Å–µ–≥–æ | –û—Ç–∫–ª—é—á–µ–Ω–æ | –ê–∫—Ç–∏–≤–Ω–æ |
|----------|------------|-----------|---------|
| –¢–±–∏–ª–∏—Å–∏ | 23 | 2 | 21 |
| –ë–∞—Ç—É–º–∏ | 22 | 2 | 20 |
| –ö—É—Ç–∞–∏—Å–∏ | 22 | 2 | 20 |
| –ê–≤—Ç–æ—Å–µ—Ä–≤–∏—Å | 28 | 2 | 26 |
| **–ò–¢–û–ì–û** | **95** | **8** | **87** |

---

## üí° –ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `TELEGRAM_ALERT_CHAT_ID` –Ω–µ –±—ã–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ n8n, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—à–∏–±–∫–∞–º:

```
Error: credential with ID 'undefined' could not exist for type 'telegramApi'
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å Telegram –Ω–æ–¥—ã ‚úÖ
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `TELEGRAM_ALERT_CHAT_ID = -5004140602` –≤ n8n Settings ‚Üí Variables
3. –í–∫–ª—é—á–∏—Ç—å –Ω–æ–¥—ã –æ–±—Ä–∞—Ç–Ω–æ (–∫–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞)

---

## üîó –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram:**
- `TELEGRAM_CHAT_SETUP.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- Chat ID: `-5004140602`
- Chat Name: "TG Alert Chat"
- Bot: `@n8n_alert_geodrive_bot`

---

## ‚úÖ –ò—Ç–æ–≥

**–í—Å–µ 4 workflow –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤–µ–±—Ö—É–∫–∏ –±–µ–∑ –æ—à–∏–±–æ–∫!**

Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω—ã –¥–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è.

–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î, upsert —Å—É—â–Ω–æ—Å—Ç–µ–π) —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 100%.

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-08 11:58 UTC  
**–ê–≤—Ç–æ—Ä:** Cursor Agent

