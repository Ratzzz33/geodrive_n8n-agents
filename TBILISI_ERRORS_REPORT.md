# üîç –û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ Tbilisi

**–î–∞—Ç–∞:** 10.11.2025  
**–§–∏–ª–∏–∞–ª:** Tbilisi  
**–í—Å–µ–≥–æ –æ—à–∏–±–æ–∫:** 4

---

## ‚ùå –ù–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

–í—Å–µ –æ—à–∏–±–∫–∏ —Å–≤—è–∑–∞–Ω—ã —Å –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞ `bookings_client_id_fkey` - —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è—Ö —É–∫–∞–∑–∞–Ω—ã `client_id`, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ `clients`.

### –û—à–∏–±–∫–∞ 1
- **–í—Ä–µ–º—è:** 2025-11-10T13:31:49.367Z
- **Booking ID (RentProg):** 450490
- **–û—à–∏–±–∫–∞:** `insert or update on table "bookings" violates foreign key constraint "bookings_client_id_fkey"`

### –û—à–∏–±–∫–∞ 2
- **–í—Ä–µ–º—è:** 2025-11-10T13:39:52.892Z
- **Booking ID (RentProg):** 280489
- **–û—à–∏–±–∫–∞:** `insert or update on table "bookings" violates foreign key constraint "bookings_client_id_fkey"`

### –û—à–∏–±–∫–∞ 3
- **–í—Ä–µ–º—è:** 2025-11-10T13:40:25.628Z
- **Booking ID (RentProg):** 194178
- **–û—à–∏–±–∫–∞:** `insert or update on table "bookings" violates foreign key constraint "bookings_client_id_fkey"`

### –û—à–∏–±–∫–∞ 4
- **–í—Ä–µ–º—è:** 2025-11-10T13:40:49.421Z
- **Booking ID (RentProg):** 167505
- **–û—à–∏–±–∫–∞:** `insert or update on table "bookings" violates foreign key constraint "bookings_client_id_fkey"`

---

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

**–ü—Ä–∏—á–∏–Ω–∞:** –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –±—ã–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ –ë–î.

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**
1. –ö–ª–∏–µ–Ω—Ç –±—ã–ª —É–¥–∞–ª–µ–Ω –∏–∑ RentProg –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
2. –ö–ª–∏–µ–Ω—Ç –Ω–µ –±—ã–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Ä–∞–Ω–µ–µ (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `external_refs`)
3. –ö–ª–∏–µ–Ω—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –¥—Ä—É–≥–æ–º—É —Ñ–∏–ª–∏–∞–ª—É –∏ –Ω–µ –±—ã–ª –Ω–∞–π–¥–µ–Ω
4. –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ `client_id` —á–µ—Ä–µ–∑ `resolveByExternalRef`

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ RentProg
- –ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ —ç—Ç–∏–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º –∏–∑ RentProg API
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ª–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–µ `client_id` –≤ RentProg

### 2. –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- –ü—Ä–∏ –æ—à–∏–±–∫–µ FK constraint –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –∏–∑ RentProg
- –ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å `client_id = NULL` (–µ—Å–ª–∏ –¥–æ–ø—É—Å—Ç–∏–º–æ)
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è—Ö

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `resolveByExternalRef` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—â–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –≤—Å–µ–º —Ñ–∏–ª–∏–∞–ª–∞–º
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏

---

## üìã –°–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π

| # | RentProg ID | –í—Ä–µ–º—è –æ—à–∏–±–∫–∏ | –°—Ç–∞—Ç—É—Å |
|---|-------------|--------------|--------|
| 1 | 450490 | 13:31:49 | –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ |
| 2 | 280489 | 13:39:52 | –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ |
| 3 | 194178 | 13:40:25 | –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ |
| 4 | 167505 | 13:40:49 | –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ |

---

## üîß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —ç—Ç–∏—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –≤ RentProg
2. ‚úÖ –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ `upsertBookingFromRentProg`
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–µ FK

