{
  "baseUrl": "https://umnico.com/api/v1/",
  "authentication": {
    "type": "session-based",
    "method": "Cookies (httpOnly) —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞",
    "login_endpoint": "https://umnico.com/login",
    "note": "–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π browser login flow, —Ç–æ–∫–µ–Ω –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ JavaScript"
  },
  "endpoints": {
    "deals": {
      "list_conversations": {
        "method": "GET",
        "path": "/api/v1/deals",
        "description": "–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–∏–∞–ª–æ–≥–æ–≤ (conversations)",
        "query_params": {
          "limit": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50)",
          "offset": "–°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏",
          "filter": "–§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (inbox/active/completed)"
        },
        "example": "/api/v1/deals?limit=50&offset=0",
        "returns": "–°–ø–∏—Å–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏"
      },
      "get_conversation": {
        "method": "GET",
        "path": "/api/v1/deals/{conversation_id}",
        "description": "–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞",
        "path_params": {
          "conversation_id": "ID –¥–∏–∞–ª–æ–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 61965921)"
        },
        "example": "/api/v1/deals/61965921",
        "returns": "–ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∏–∞–ª–æ–≥–µ, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞"
      }
    },
    "messages": {
      "get_messages": {
        "method": "GET",
        "path": "/api/v1/deals/{conversation_id}/messages",
        "description": "–ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞",
        "path_params": {
          "conversation_id": "ID –¥–∏–∞–ª–æ–≥–∞"
        },
        "query_params": {
          "limit": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π",
          "offset": "–°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (—Å—Ç–∞—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)",
          "order": "–ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (asc/desc)"
        },
        "example": "/api/v1/deals/61965921/messages?limit=100&offset=0",
        "returns": {
          "structure": "–ú–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π",
          "message_fields": [
            "id: ID —Å–æ–æ–±—â–µ–Ω–∏—è",
            "text: –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",
            "direction: incoming/outgoing",
            "timestamp: –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏",
            "channel: whatsapp/telegram/instagram",
            "from: –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å (–Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è WhatsApp)",
            "attachments: –ú–∞—Å—Å–∏–≤ —Ñ–∞–π–ª–æ–≤/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
            "read: –°—Ç–∞—Ç—É—Å –ø—Ä–æ—á—Ç–µ–Ω–∏—è"
          ]
        }
      },
      "send_message": {
        "method": "POST",
        "path": "/api/v1/deals/{conversation_id}/messages",
        "description": "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –¥–∏–∞–ª–æ–≥",
        "path_params": {
          "conversation_id": "ID –¥–∏–∞–ª–æ–≥–∞"
        },
        "body": {
          "text": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",
          "attachments": "–ú–∞—Å—Å–∏–≤ —Ñ–∞–π–ª–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"
        },
        "example_body": {
          "text": "Hello! How can I help you?",
          "attachments": []
        },
        "returns": "–°–æ–∑–¥–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å ID"
      }
    },
    "contacts": {
      "get_contacts": {
        "method": "GET",
        "path": "/api/v1/contacts",
        "description": "–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ (–∫–ª–∏–µ–Ω—Ç–æ–≤)",
        "query_params": {
          "limit": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤",
          "offset": "–°–º–µ—â–µ–Ω–∏–µ",
          "search": "–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/—Ç–µ–ª–µ—Ñ–æ–Ω—É"
        },
        "example": "/api/v1/contacts?search=995599001665",
        "returns": "–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞–º–∏, email, –∏–º–µ–Ω–∞–º–∏"
      },
      "get_contact": {
        "method": "GET",
        "path": "/api/v1/contacts/{contact_id}",
        "description": "–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞",
        "path_params": {
          "contact_id": "ID –∫–æ–Ω—Ç–∞–∫—Ç–∞"
        },
        "returns": "–ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ, –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤"
      }
    },
    "users": {
      "get_users": {
        "method": "GET",
        "path": "/api/v1/users",
        "description": "–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤)",
        "returns": "–°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å ID, –∏–º–µ–Ω–∞–º–∏, —Ä–æ–ª—è–º–∏"
      },
      "get_current_user": {
        "method": "GET",
        "path": "/api/v1/users/me",
        "description": "–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ",
        "returns": "–ü—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
      }
    },
    "integrations": {
      "get_channels": {
        "method": "GET",
        "path": "/api/v1/channels",
        "description": "–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤",
        "returns": "WhatsApp, Telegram, Instagram –∏ –¥—Ä—É–≥–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã"
      }
    }
  },
  "ui_structure": {
    "inbox_url": "https://umnico.com/app/inbox/deals/inbox",
    "conversation_url": "https://umnico.com/app/inbox/deals/inbox/details/{conversation_id}",
    "message_selector": ".im-stack__messages-item-wrap",
    "message_text_selector": ".im-message__text",
    "message_time_selector": ".im-info__date",
    "source_selector": ".im-source-item",
    "phone_extraction": "–ò–∑ —Ç–µ–∫—Å—Ç–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞: '–ü–æ–ª—É—á–µ–Ω–æ –∏–∑ WhatsApp ‚Äî 995599001665'"
  },
  "dom_structure": {
    "messages": {
      "container": ".im-stack__messages",
      "item": ".im-stack__messages-item-wrap",
      "message": ".im-message",
      "text": ".im-message__text",
      "time": ".im-info__date",
      "direction": {
        "outgoing": "im-message_out –∏–ª–∏ im-message--outgoing",
        "incoming": "–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–±–µ–∑ outgoing –∫–ª–∞—Å—Å–∞)"
      }
    },
    "client_info": {
      "phone": "a[href*='tel:']",
      "name": ".message-preview__user-name",
      "channel": ".im-source-item (WhatsApp/Telegram/etc)"
    }
  },
  "pagination": {
    "method": "offset-based",
    "default_limit": 50,
    "max_limit": 100
  },
  "rate_limits": {
    "note": "–¢–æ—á–Ω—ã–µ –ª–∏–º–∏—Ç—ã –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
    "recommendation": "–ù–µ –±–æ–ª–µ–µ 60 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É"
  },
  "notes": [
    "‚úÖ –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –í UMNICO (–Ω–µ –≤ AmoCRM!)",
    "‚úÖ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏—Å—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ UI –∏ API",
    "‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WhatsApp, Telegram, Instagram, VK",
    "‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π browser login –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è session cookies",
    "‚ö†Ô∏è API endpoints —Ç—Ä–µ–±—É—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ Network tab DevTools",
    "üí° –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Playwright —Å –ø–æ–ª–Ω—ã–º login flow"
  ]
}

