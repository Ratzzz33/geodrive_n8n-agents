# ‚ö° –ê–∫—Ç–∏–≤–∞—Ü–∏—è n8n Workflows - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## üéØ Workflows –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

### 1. RentProg Events Scraper
**ID:** `nZPD1AcSbLo3eSgr`  
**URL:** https://n8n.rentflow.rentals/workflow/nZPD1AcSbLo3eSgr  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–°–æ–±—ã—Ç–∏—è" RentProg  
**–¢—Ä–∏–≥–≥–µ—Ä:** –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

### 2. Cash Register Reconciliation
**ID:** `9Nrec3H5j2fIQ3Ma`  
**URL:** https://n8n.rentflow.rentals/workflow/9Nrec3H5j2fIQ3Ma  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–≤–µ—Ä–∫–∞ –∫–∞—Å—Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤  
**–¢—Ä–∏–≥–≥–µ—Ä:** –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 04:00 Tbilisi

### 3. Company Cash Register Parser
**ID:** `x1z3p5QMQ421UPEY`  
**URL:** https://n8n.rentflow.rentals/workflow/x1z3p5QMQ421UPEY  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Å—Å—ã –∫–æ–º–ø–∞–Ω–∏–∏ (–ø–ª–∞—Ç–µ–∂–∏)  
**–¢—Ä–∏–≥–≥–µ—Ä:** –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

---

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞–∂–¥—ã–π workflow

–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫–∏ –≤—ã—à–µ –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- https://n8n.rentflow.rentals/workflow/nZPD1AcSbLo3eSgr
- https://n8n.rentflow.rentals/workflow/9Nrec3H5j2fIQ3Ma
- https://n8n.rentflow.rentals/workflow/x1z3p5QMQ421UPEY

### –®–∞–≥ 2: –í–∫–ª—é—á–∏—Ç–µ toggle "Active"

–í –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –∫–∞–∂–¥–æ–≥–æ workflow –Ω–∞–π–¥–∏—Ç–µ toggle **"Active"** –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –µ–≥–æ.

–¢–æ–≥–≥–ª –¥–æ–ª–∂–µ–Ω:
- –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç —Å —Å–µ—Ä–æ–≥–æ –Ω–∞ **–∑–µ–ª–µ–Ω—ã–π**
- –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å **"Active"**

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç–∏–≤–∞—Ü–∏—é

–ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:
1. Workflow –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å **"Active"** –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
2. Cron trigger –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
3. –í —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø–µ—Ä–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ß–µ—Ä–µ–∑ n8n UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://n8n.rentflow.rentals/executions
2. –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞–∂–¥–æ–º—É workflow
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π:
   - ‚úÖ **Success** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - ‚ùå **Error** - –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º–∞ (—Å–º. –ª–æ–≥–∏)

### –ß–µ—Ä–µ–∑ Telegram

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–∞—Ç **TG Alert Chat** (ID: `-5004140602`):
- –î–æ–ª–∂–Ω—ã –ø—Ä–∏—Ö–æ–¥–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –ø–ª–∞—Ç–µ–∂–∞—Ö
- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö - alerts —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

### –ß–µ—Ä–µ–∑ –ë–î

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–∏—Å–∏ –≤ payments (Company Cash Parser)
SELECT COUNT(*), MAX(parsed_at) 
FROM payments;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–∏—Å–∏ –≤ event_processing_log (Events Scraper)
SELECT COUNT(*), MAX(processed_at) 
FROM event_processing_log;
```

---

## üö® Troubleshooting

### Workflow –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –í–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ —Å credentials –∏–ª–∏ triggers

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ credentials –≤ workflow (Postgres, Telegram)
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ cron trigger –Ω–∞—Å—Ç—Ä–æ–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ n8n: `docker logs n8n --tail 100`

### –û—à–∏–±–∫–∞ "Cannot find module 'playwright'"

**–ü—Ä–∏—á–∏–Ω–∞:** Playwright –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
docker exec n8n npm install playwright
docker exec n8n npx playwright install chromium
```

### –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ DOM

**–ü—Ä–∏—á–∏–Ω–∞:** –ò–∑–º–µ–Ω–∏–ª–∏—Å—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã RentProg UI

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ workflow –≤ UI
2. –ù–∞–π–¥–∏—Ç–µ node "Parse Company Cash" –∏–ª–∏ "Scrape Events"
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã `td:nth-child(N)`
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ workflow

### –ù–µ—Ç –Ω–æ–≤—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π –≤ –ë–î

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –Ω–æ–≤—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å Success (empty)
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ RentProg UI –µ—Å—Ç—å –ø–ª–∞—Ç–µ–∂–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "–ö–∞—Å—Å–∞ –∫–æ–º–ø–∞–Ω–∏–∏"

---

## üìä –û–∂–∏–¥–∞–µ–º–∞—è —á–∞—Å—Ç–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π

| Workflow | –¢—Ä–∏–≥–≥–µ—Ä | –û–∂–∏–¥–∞–µ–º–∞—è —á–∞—Å—Ç–æ—Ç–∞ |
|----------|---------|-------------------|
| RentProg Events Scraper | –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç | ~288 —Ä–∞–∑ –≤ –¥–µ–Ω—å |
| Cash Register Reconciliation | 04:00 Tbilisi | 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å |
| Company Cash Register Parser | –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç | ~288 —Ä–∞–∑ –≤ –¥–µ–Ω—å |

**–ò—Ç–æ–≥–æ:** ~577 –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π –≤ –¥–µ–Ω—å (–¥–ª—è –≤—Å–µ—Ö workflows)

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ

–ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤—Å–µ—Ö workflows:

1. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
3. ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Telegram alerts –ø—Ä–∏—Ö–æ–¥—è—Ç
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ—Ç –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
5. ‚è≠Ô∏è –î–æ–±–∞–≤–∏—Ç—å —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏/–±—Ä–æ–Ω—è–º–∏
6. ‚è≠Ô∏è –°–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

- [ ] Workflow #1 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (RentProg Events Scraper)
- [ ] Workflow #2 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (Cash Register Reconciliation)
- [ ] Workflow #3 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (Company Cash Register Parser)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø–µ—Ä–≤—ã–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–ª–æ–≥–∏)
- [ ] –î–∞–Ω–Ω—ã–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –ë–î
- [ ] Telegram alerts —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫

---

**–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!** üöÄ


