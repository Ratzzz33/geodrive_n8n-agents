# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: RentProg Events Scraper

**–î–∞—Ç–∞:** 2025-11-05  
**–°—Ç–∞—Ç—É—Å:** –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

---

## üéØ –¶–µ–ª—å

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Å–±–æ—Ä–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π –∏–∑ RentProg UI (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ "–°–æ–±—ã—Ç–∏—è") –¥–ª—è –æ–±–æ–≥–∞—â–µ–Ω–∏—è –ë–î –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ API/–≤–µ–±—Ö—É–∫–∞—Ö.

---

## üìã –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Å–æ–±—ã—Ç–∏–π

1. **–í—ã—Å–æ–∫–∏–π:** –ö–∞—Å—Å–∞ (–æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–ª–∏—á–Ω—ã–º–∏)
2. **–°—Ä–µ–¥–Ω–∏–π:** –¢–µ—Ö–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ (–∑–∞–≤–µ—Ä—à–µ–Ω–æ/—Å–æ–∑–¥–∞–Ω–æ)
3. **–°—Ä–µ–¥–Ω–∏–π:** –°—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–µ–π —Å issue/return —Å–µ–≥–æ–¥–Ω—è-–∑–∞–≤—Ç—Ä–∞

---

## üèóÔ∏è –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

#### –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞: event_processing_log
```sql
CREATE TABLE event_processing_log (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  hash TEXT UNIQUE NOT NULL,
  event_data JSONB NOT NULL,
  event_type TEXT,
  processed_at TIMESTAMPTZ DEFAULT NOW(),
  processing_result JSONB
);
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã employees
```sql
ALTER TABLE employees 
  ADD COLUMN IF NOT EXISTS cash_gel NUMERIC DEFAULT 0,
  ADD COLUMN IF NOT EXISTS cash_usd NUMERIC DEFAULT 0,
  ADD COLUMN IF NOT EXISTS cash_eur NUMERIC DEFAULT 0,
  ADD COLUMN IF NOT EXISTS cash_last_updated TIMESTAMPTZ,
  ADD COLUMN IF NOT EXISTS cash_last_synced TIMESTAMPTZ,
  ADD COLUMN IF NOT EXISTS task_chat_id TEXT;
```

---

### 2. –ü–∞—Ä—Å–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π (Playwright)

**–§–∞–π–ª:** `src/scrapers/rentprog-events-scraper.ts`

**–§—É–Ω–∫—Ü–∏–∏:**
- `scrapeEvents(branch, credentials, since)` - –ø–∞—Ä—Å–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π –∑–∞ –ø–µ—Ä–∏–æ–¥
- `parseEventRow(row)` - –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫–∏ —Å–æ–±—ã—Ç–∏—è
- `extractEntities(description)` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π (serviceId, carNumber, amount, etc.)

**–°–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞:**
- –¢–∞–±–ª–∏—Ü–∞ —Å–æ–±—ã—Ç–∏–π: `table tbody tr`
- –î–∞—Ç–∞: `td:nth-child(1)`
- –û–ø–∏—Å–∞–Ω–∏–µ: `td:nth-child(2)`

---

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π (Jarvis API)

**Endpoint:** `POST /process-ui-event`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "eventHash": "sha256...",
  "timestamp": "2025-11-05T18:43:00Z",
  "branch": "tbilisi",
  "actor": "Neverov Leonid",
  "action": "–∑–∞–≤–µ—Ä—à–∏–ª –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ",
  "description": "–∑–∞–∫—Ä–µ–ø–∏—Ç—å –æ–º—ã–≤–∞–π–∫—É...",
  "entities": {
    "serviceId": "102306",
    "carNumber": "59439"
  }
}
```

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ —Ç–∏–ø–∞–º:**
1. `handleCashOperation(event)` - –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–∞—Å—Å–æ–π
2. `handleMaintenanceCompleted(event)` - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¢–û
3. `handleBookingStatusChange(event)` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –±—Ä–æ–Ω–µ–π
4. `handleMileageUpdate(event)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–≥–∞

---

### 4. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–±—ã—Ç–∏–π

**–§–∞–π–ª:** `src/services/event-classifier.ts`

**–ü—Ä–∞–≤–∏–ª–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏:**
```typescript
const EVENT_PATTERNS = {
  cash_operation: [
    /—Å–æ–∑–¥–∞–ª –ø–ª–∞—Ç—ë–∂.*–Ω–∞–ª–∏—á–Ω—ã–º–∏/i,
    /–ø—Ä–∏–Ω—è–ª –∞–≤—Ç–æ.*–±—Ä–æ–Ω—å/i,
    /–≤—ã–¥–∞–ª –∞–≤—Ç–æ.*–±—Ä–æ–Ω—å/i
  ],
  maintenance: [
    /–∑–∞–≤–µ—Ä—à–∏–ª –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ/i,
    /—Å–æ–∑–¥–∞–ª –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ/i
  ],
  booking_status: [
    /–∏–∑–º–µ–Ω–∏–ª.*—Å—Ç–∞—Ç—É—Å.*–±—Ä–æ–Ω/i,
    /–æ—Ç–º–µ–Ω–∏–ª –±—Ä–æ–Ω—å/i
  ],
  mileage: [
    /–∏–∑–º–µ–Ω–∏–ª.*mileage/i
  ]
};
```

---

### 5. –ü–∞—Ä—Å–µ—Ä—ã —Å—É—â–Ω–æ—Å—Ç–µ–π

**–§–∞–π–ª:** `src/parsers/event-parsers.ts`

**–§—É–Ω–∫—Ü–∏–∏:**
- `parsePaymentEvent(description)` ‚Üí `{ amount, currency, type }`
- `parseServiceEvent(description)` ‚Üí `{ serviceId, carNumber, description }`
- `parseBookingEvent(description)` ‚Üí `{ bookingId, status, scheduledDate }`
- `parseMileageEvent(description)` ‚Üí `{ carNumber, newMileage }`

**–ü—Ä–∏–º–µ—Ä—ã:**
```typescript
// "—Å–æ–∑–¥–∞–ª –ø–ª–∞—Ç—ë–∂ ‚Ññ1834894, —Ä–∞—Å—Ö–æ–¥ –Ω–∞–ª–∏—á–Ω—ã–º–∏ 60.0GEL"
parsePaymentEvent(text) => {
  amount: 60.0,
  currency: 'GEL',
  type: 'expense',
  paymentId: '1834894'
}

// "–∑–∞–≤–µ—Ä—à–∏–ª –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ ‚Ññ102306 –≤ –æ–±—ä–µ–∫—Ç–µ ‚Ññ59439 –∑–∞–∫—Ä–µ–ø–∏—Ç—å –æ–º—ã–≤–∞–π–∫—É"
parseServiceEvent(text) => {
  serviceId: '102306',
  carNumber: '59439',
  description: '–∑–∞–∫—Ä–µ–ø–∏—Ç—å –æ–º—ã–≤–∞–π–∫—É...'
}
```

---

### 6. –°–≤–µ—Ä–∫–∞ –∫–∞—Å—Å (Playwright)

**n8n Workflow:** "Cash Register Reconciliation"

**Cron:** `0 4 * * *` (04:00 Tbilisi = 01:00 UTC)

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö employees –∏–∑ –ë–î
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:
   - Playwright ‚Üí "–ö–æ–º–ø–∞–Ω–∏—è ‚Üí –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ ‚Üí [–§–ò–û]"
   - –ü–∞—Ä—Å–∏–Ω–≥ –ø–æ–ª–µ–π –∫–∞—Å—Å—ã (GEL, USD, EUR)
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ä–∞—Å—á–µ—Ç–Ω–æ–π –∫–∞—Å—Å–æ–π –≤ –ë–î
   - –ü—Ä–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–∏:
     - Telegram Alert –≤ —á–∞—Ç -5004140602
     - –ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: `UPDATE employees SET cash_* = real_value`
     - –û–±–Ω–æ–≤–∏—Ç—å `cash_last_synced = NOW()`

**–§–∞–π–ª:** `src/scrapers/cash-reconciliation.ts`

---

### 7. n8n Workflows

#### Workflow 1: "RentProg Events Scraper"
- **Trigger:** Cron `*/5 * * * *` (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
- **Nodes:**
  1. `Split In Batches` (4 —Ñ–∏–ª–∏–∞–ª–∞)
  2. `Execute Command` ‚Üí `node src/scrapers/rentprog-events-scraper.ts --branch={{$json.branch}}`
  3. `HTTP Request` ‚Üí POST to Jarvis API `/process-ui-event`
  4. `Telegram` (–ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö) ‚Üí —á–∞—Ç -5004140602

#### Workflow 2: "Cash Register Reconciliation"
- **Trigger:** Cron `0 1 * * *` (04:00 Tbilisi = 01:00 UTC)
- **Nodes:**
  1. `Postgres` ‚Üí SELECT employees
  2. `Split In Batches`
  3. `Execute Command` ‚Üí `node src/scrapers/cash-reconciliation.ts --employee={{$json.id}}`
  4. `Telegram` (–ø—Ä–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è—Ö) ‚Üí —á–∞—Ç -5004140602

---

## üîê Credentials (–±—É–¥—É—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã)

```json
{
  "tbilisi": {
    "username": "...",
    "password": "..."
  },
  "batumi": {
    "username": "...",
    "password": "..."
  },
  "kutaisi": {
    "username": "...",
    "password": "..."
  },
  "service-center": {
    "username": "...",
    "password": "..."
  }
}
```

**–•—Ä–∞–Ω–µ–Ω–∏–µ:** `.env` —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```env
RENTPROG_UI_TBILISI_USERNAME=...
RENTPROG_UI_TBILISI_PASSWORD=...
RENTPROG_UI_BATUMI_USERNAME=...
RENTPROG_UI_BATUMI_PASSWORD=...
RENTPROG_UI_KUTAISI_USERNAME=...
RENTPROG_UI_KUTAISI_PASSWORD=...
RENTPROG_UI_SERVICE_CENTER_USERNAME=...
RENTPROG_UI_SERVICE_CENTER_PASSWORD=...
```

---

## üìä Telegram Alerts (—á–∞—Ç -5004140602)

### –§–æ—Ä–º–∞—Ç –∞–ª–µ—Ä—Ç–æ–≤

#### 1. –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–∞—Å—Å—ã
```
‚ö†Ô∏è –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–∞—Å—Å—ã

üë§ Neverov Leonid | Tbilisi
üí∞ GEL: 150.50 ‚Üí 145.00 (-5.50)
üïê 04:00 05.11.2025

‚úÖ –ö–∞—Å—Å–∞ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–∑ RentProg
```

#### 2. –û–ø–µ—Ä–∞—Ü–∏—è —Å –Ω–∞–ª–∏—á–Ω—ã–º–∏
```
üí∞ –û–ø–µ—Ä–∞—Ü–∏—è —Å –Ω–∞–ª–∏—á–Ω—ã–º–∏

üë§ Neverov Leonid | Tbilisi
üíµ -60.0 GEL (—Ä–∞—Å—Ö–æ–¥)
üìã –ü–ª–∞—Ç—ë–∂ ‚Ññ1834894
üïê 18:43 05.11.2025

üìä –ö–∞—Å—Å–∞: GEL 90.50 | USD 20.00 | EUR 10.00
```

#### 3. –ó–∞–≤–µ—Ä—à–µ–Ω–æ –¢–û
```
‚úÖ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

üë§ Neverov Leonid | Tbilisi
üöó Mercedes GLS 2020 (‚Ññ59439)
üìã –ó–∞–∫—Ä–µ–ø–∏—Ç—å –æ–º—ã–≤–∞–π–∫—É
üïê 18:43 05.11.2025

üìù –ó–∞–¥–∞—á–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –∑–∞–∫—Ä—ã—Ç–∞
```

#### 4. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏ (—Å–µ–≥–æ–¥–Ω—è-–∑–∞–≤—Ç—Ä–∞)
```
üîî –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏

üë§ Neverov Leonid | Tbilisi
üìã –ë—Ä–æ–Ω—å ‚Ññ505165
üìÖ –í—ã–¥–∞—á–∞: –∑–∞–≤—Ç—Ä–∞ 10:00
üîÑ –°—Ç–∞—Ç—É—Å: planned ‚Üí confirmed

üöó Mercedes GLS 2020
```

#### 5. –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
```
‚ùå –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è

üìã "–∑–∞–≤–µ—Ä—à–∏–ª –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ ‚Ññ102306"
üè¢ Kutaisi | 14:22
‚ö†Ô∏è Car ‚Ññ59439 not found in DB

üîó https://web.rentprog.ru/kutaisi/events
```

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ scrapers/
‚îÇ   ‚îú‚îÄ‚îÄ rentprog-events-scraper.ts    # –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–°–æ–±—ã—Ç–∏—è"
‚îÇ   ‚îú‚îÄ‚îÄ cash-reconciliation.ts        # –°–≤–µ—Ä–∫–∞ –∫–∞—Å—Å
‚îÇ   ‚îî‚îÄ‚îÄ browser-utils.ts              # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è Playwright
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ event-classifier.ts           # –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ event-processor.ts            # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
‚îú‚îÄ‚îÄ parsers/
‚îÇ   ‚îú‚îÄ‚îÄ event-parsers.ts              # –ü–∞—Ä—Å–µ—Ä—ã —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ entity-extractors.ts          # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ cash-handler.ts               # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ maintenance-handler.ts        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¢–û
‚îÇ   ‚îî‚îÄ‚îÄ booking-handler.ts            # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –±—Ä–æ–Ω–µ–π
‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îú‚îÄ‚îÄ queries/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ employees-queries.ts      # –ó–∞–ø—Ä–æ—Å—ã –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tasks-queries.ts          # –ó–∞–ø—Ä–æ—Å—ã –ø–æ –∑–∞–¥–∞—á–∞–º
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ event-log-queries.ts      # –ó–∞–ø—Ä–æ—Å—ã –ø–æ –ª–æ–≥—É —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ migrations/
‚îÇ       ‚îú‚îÄ‚îÄ 005_add_employee_cash.sql # –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –∫–∞—Å—Å—ã
‚îÇ       ‚îî‚îÄ‚îÄ 006_event_processing_log.sql # –¢–∞–±–ª–∏—Ü–∞ –ª–æ–≥–∞ —Å–æ–±—ã—Ç–∏–π
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ routes/
        ‚îî‚îÄ‚îÄ process-ui-event.ts       # Endpoint –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π

setup/
‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îú‚îÄ‚îÄ 005_add_employee_cash.sql
‚îÇ   ‚îî‚îÄ‚îÄ 006_event_processing_log.sql
‚îî‚îÄ‚îÄ create_events_scraper_tables.mjs  # –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü

n8n-workflows/
‚îú‚îÄ‚îÄ rentprog-events-scraper.json      # Workflow –ø–∞—Ä—Å–∏–Ω–≥–∞
‚îî‚îÄ‚îÄ cash-reconciliation.json          # Workflow —Å–≤–µ—Ä–∫–∏ –∫–∞—Å—Å
```

---

## üìù –≠—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (30 –º–∏–Ω—É—Ç)
- ‚úÖ –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è `event_processing_log`
- ‚úÖ –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è `employees` (–ø–æ–ª—è –∫–∞—Å—Å—ã)
- ‚úÖ –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Neon

### –≠—Ç–∞–ø 2: –ü–∞—Ä—Å–µ—Ä—ã –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (1 —á–∞—Å)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `event-classifier.ts`
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `event-parsers.ts`
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `entity-extractors.ts`
- ‚úÖ –¢–µ—Å—Ç—ã –¥–ª—è –ø–∞—Ä—Å–µ—Ä–æ–≤

### –≠—Ç–∞–ø 3: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π (1 —á–∞—Å)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `cash-handler.ts`
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `maintenance-handler.ts`
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `booking-handler.ts`
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –∑–∞–¥–∞—á

### –≠—Ç–∞–ø 4: Playwright —Å–∫—Ä–∞–ø–µ—Ä—ã (1.5 —á–∞—Å–∞)
- ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `rentprog-events-scraper.ts`
- ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `cash-reconciliation.ts`
- ‚è≥ –¢–µ—Å—Ç—ã —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ credentials (–∫–æ–≥–¥–∞ –±—É–¥—É—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã)

### –≠—Ç–∞–ø 5: Jarvis API endpoint (30 –º–∏–Ω—É—Ç)
- ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `POST /process-ui-event`
- ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
- ‚è≥ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ event_processing_log

### –≠—Ç–∞–ø 6: n8n Workflows (1 —á–∞—Å)
- ‚è≥ –°–æ–∑–¥–∞—Ç—å workflow "RentProg Events Scraper"
- ‚è≥ –°–æ–∑–¥–∞—Ç—å workflow "Cash Register Reconciliation"
- ‚è≥ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram –∞–ª–µ—Ä—Ç—ã

### –≠—Ç–∞–ø 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1 —á–∞—Å)
- ‚è≥ –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å–æ–±—ã—Ç–∏–π
- ‚è≥ –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ —Å–≤–µ—Ä–∫–∏ –∫–∞—Å—Å
- ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤ –≤ Telegram
- ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏

### –≠—Ç–∞–ø 8: –î–µ–ø–ª–æ–π (30 –º–∏–Ω—É—Ç)
- ‚è≥ –î–æ–±–∞–≤–∏—Ç—å credentials –≤ `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚è≥ –ò–º–ø–æ—Ä—Ç workflows –≤ n8n
- ‚è≥ –ê–∫—Ç–∏–≤–∞—Ü–∏—è workflows
- ‚è≥ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–≤—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤

---

## üîç –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

1. ‚úÖ –°–æ–±—ã—Ç–∏—è –ø–∞—Ä—Å—è—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
2. ‚úÖ –ö–∞—Å—Å–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
3. ‚úÖ –°–≤–µ—Ä–∫–∞ –∫–∞—Å—Å –ø—Ä–æ—Ö–æ–¥–∏—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 4:00
4. ‚úÖ –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
5. ‚úÖ –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ Telegram —á–∞—Ç -5004140602
6. ‚úÖ –ó–∞–¥–∞—á–∏ –ø–æ –¢–û —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
7. ‚úÖ –°—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–µ–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –¥–ª—è —Å–µ–≥–æ–¥–Ω—è-–∑–∞–≤—Ç—Ä–∞
8. ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

1. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π** (–∑–∞ —á–∞—Å/–¥–µ–Ω—å)
2. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –∫–∞—Å—Å—ã** (–∑–∞ –¥–µ–Ω—å)
3. **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è** (—Å—Ä–µ–¥–Ω–µ–µ)
4. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞** (–∑–∞ —á–∞—Å)
5. **Coverage —Å–æ–±—ã—Ç–∏–π** (% –æ—Ç –æ–±—â–µ–≥–æ —á–∏—Å–ª–∞)

---

## üöÄ –ù–∞—á–∏–Ω–∞–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é!

**–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞:** 05.11.2025 ~06:30  
**–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 05.11.2025 ~13:00 (–ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è credentials)

