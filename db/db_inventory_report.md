# DB Inventory Report
Сгенерировано: 2025-11-15T06:39:37.875Z

## Сводка по таблицам (public)

| Таблица | Оценка строк | Размер (table / total) | Колонок | FK → | FK ← |
| --- | ---: | --- | ---: | ---: | ---: |
| amocrm_deals | 0 | 0 B / 88 KB | 14 | 2 | 0 |
| amocrm_webhook_events | 0 | 0 B / 64 KB | 10 | 0 | 0 |
| annotation_tag_entity | 0 | 0 B / 16 KB | 4 | 0 | 1 |
| api_endpoints | 14 | 8.0 KB / 96 KB | 8 | 0 | 1 |
| api_request_logs | 2613 | 680 KB / 1.0 MB | 15 | 1 | 0 |
| auth_identity | 0 | 0 B / 8.0 KB | 5 | 1 | 0 |
| auth_provider_sync_history | 0 | 0 B / 16 KB | 11 | 0 | 0 |
| battery_voltage_alerts | 603 | 64 KB / 120 KB | 9 | 1 | 0 |
| battery_voltage_history | 147172 | 14 MB / 17 MB | 9 | 1 | 0 |
| bookings | 2992 | 13 MB / 67 MB | 177 | 4 | 1 |
| branches | 4 | 8.0 KB / 96 KB | 6 | 0 | 4 |
| car_price_checks | 37 | 8.0 KB / 152 KB | 18 | 1 | 0 |
| car_prices | 0 | 0 B / 680 KB | 13 | 1 | 0 |
| cars | 167 | 568 KB / 6.5 MB | 197 | 1 | 10 |
| chat_hub_messages | 0 | 0 B / 16 KB | 15 | 6 | 3 |
| chat_hub_sessions | 0 | 0 B / 8.0 KB | 10 | 3 | 1 |
| clients | 4841 | 5.5 MB / 6.4 MB | 89 | 0 | 4 |
| conversations | 1697 | 520 KB / 1.4 MB | 21 | 2 | 2 |
| credentials_entity | 5 | 8.0 KB / 64 KB | 7 | 0 | 2 |
| data_table | 0 | 0 B / 16 KB | 5 | 1 | 1 |
| data_table_column | 0 | 0 B / 16 KB | 7 | 1 | 0 |
| employees | 123 | 16 KB / 104 KB | 13 | 0 | 5 |
| entity_branch_cache | 0 | 0 B / 48 KB | 7 | 0 | 0 |
| entity_timeline | 48247 | 14 MB / 36 MB | 15 | 0 | 0 |
| error_analysis_cache | 0 | 0 B / 48 KB | 16 | 0 | 0 |
| event_destinations | 0 | 0 B / 16 KB | 4 | 0 | 0 |
| event_links | 2 | 8.0 KB / 176 KB | 15 | 3 | 0 |
| event_processing_log | 0 | 0 B / 64 KB | 7 | 0 | 0 |
| events | 858 | 560 KB / 1.6 MB | 17 | 0 | 1 |
| exchange_rates | 4 | 8.0 KB / 80 KB | 11 | 0 | 0 |
| execution_annotation_tags | 0 | 0 B / 24 KB | 2 | 2 | 0 |
| execution_annotations | 0 | 0 B / 24 KB | 6 | 1 | 1 |
| execution_data | 182 | 72 KB / 23 MB | 3 | 1 | 0 |
| execution_entity | 182 | 48 KB / 336 KB | 12 | 1 | 5 |
| execution_metadata | 0 | 0 B / 24 KB | 4 | 1 | 0 |
| external_refs | 12911 | 1.8 MB / 16 MB | 10 | 0 | 0 |
| folder | 0 | 0 B / 16 KB | 6 | 2 | 3 |
| folder_tag | 0 | 0 B / 8.0 KB | 2 | 2 | 0 |
| gps_status_labels | 5 | 8.0 KB / 32 KB | 6 | 0 | 0 |
| gps_tracking | 117 | 1.5 MB / 2.2 MB | 30 | 1 | 0 |
| health | 0 | 0 B / 32 KB | 5 | 0 | 0 |
| history | 2324 | 14 MB / 16 MB | 14 | 0 | 1 |
| history_operation_mappings | 29 | 8.0 KB / 96 KB | 14 | 0 | 0 |
| i2crm_conversations | 14205 | 3.5 MB / 7.5 MB | 11 | 0 | 1 |
| i2crm_messages | 548786 | 147 MB / 230 MB | 10 | 1 | 0 |
| insights_by_period | 1890 | 144 KB / 336 KB | 6 | 1 | 0 |
| insights_metadata | 26 | 8.0 KB / 40 KB | 5 | 2 | 2 |
| insights_raw | 0 | 0 B / 80 KB | 5 | 1 | 0 |
| installed_nodes | 1 | 8.0 KB / 32 KB | 4 | 1 | 0 |
| installed_packages | 1 | 8.0 KB / 24 KB | 6 | 0 | 1 |
| invalid_auth_token | 0 | 0 B / 16 KB | 2 | 0 | 0 |
| messages | 36401 | 20 MB / 25 MB | 13 | 2 | 0 |
| migrations | 107 | 16 KB / 64 KB | 3 | 0 | 0 |
| payments | 5528 | 12 MB / 17 MB | 47 | 3 | 1 |
| processed_data | 0 | 0 B / 16 KB | 5 | 1 | 0 |
| project | 1 | 8.0 KB / 32 KB | 7 | 0 | 7 |
| project_relation | 1 | 8.0 KB / 96 KB | 5 | 3 | 0 |
| rentprog_car_states_snapshot | 127 | 488 KB / 872 KB | 55 | 0 | 0 |
| rentprog_employees | 140 | 240 KB / 440 KB | 25 | 1 | 1 |
| role | 11 | 8.0 KB / 48 KB | 7 | 0 | 3 |
| role_scope | 335 | 24 KB / 104 KB | 2 | 2 | 0 |
| scope | 149 | 16 KB / 64 KB | 3 | 0 | 1 |
| settings | 7 | 8.0 KB / 184 KB | 3 | 0 | 0 |
| shared_credentials | 5 | 8.0 KB / 32 KB | 5 | 2 | 0 |
| shared_workflow | 15 | 8.0 KB / 64 KB | 5 | 2 | 0 |
| speed_history | 145662 | 17 MB / 20 MB | 12 | 1 | 0 |
| speed_violations | 8 | 8.0 KB / 32 KB | 9 | 1 | 0 |
| starline_api_tokens | 0 | 0 B / 32 KB | 6 | 0 | 0 |
| starline_devices | 120 | 96 KB / 320 KB | 26 | 1 | 3 |
| starline_events | 0 | 0 B / 64 KB | 8 | 1 | 0 |
| starline_match_history | 120 | 32 KB / 128 KB | 15 | 2 | 0 |
| starline_metrics | 1294 | 120 KB / 344 KB | 13 | 0 | 0 |
| starline_routes | 0 | 0 B / 32 KB | 9 | 1 | 0 |
| sync_runs | 0 | 0 B / 40 KB | 9 | 0 | 0 |
| sync_state | 0 | 0 B / 24 KB | 6 | 0 | 0 |
| tag_entity | 0 | 0 B / 24 KB | 4 | 0 | 2 |
| task_events | 18 | 8.0 KB / 48 KB | 5 | 1 | 0 |
| task_links | 18 | 8.0 KB / 48 KB | 4 | 1 | 0 |
| tasks | 18 | 8.0 KB / 96 KB | 15 | 3 | 2 |
| test_case_execution | 0 | 0 B / 24 KB | 13 | 2 | 0 |
| test_run | 0 | 0 B / 24 KB | 10 | 1 | 1 |
| umnico_chat_ids | 1917 | 368 KB / 616 KB | 6 | 0 | 0 |
| user | 1 | 8.0 KB / 64 KB | 15 | 1 | 4 |
| user_api_keys | 3 | 8.0 KB / 64 KB | 8 | 1 | 0 |
| variables | 0 | 0 B / 24 KB | 5 | 1 | 0 |
| webhook_dedup | 4179 | 512 KB / 1.8 MB | 4 | 0 | 0 |
| webhook_entity | 4 | 8.0 KB / 80 KB | 6 | 1 | 0 |
| webhook_error_log | 0 | 0 B / 56 KB | 12 | 0 | 0 |
| workflow_dependency | 0 | 0 B / 40 KB | 8 | 1 | 0 |
| workflow_entity | 15 | 104 KB / 496 KB | 16 | 1 | 12 |
| workflow_history | 82 | 216 KB / 1.2 MB | 7 | 1 | 0 |
| workflow_statistics | 45 | 16 KB / 64 KB | 5 | 1 | 0 |
| workflows_tags | 0 | 0 B / 16 KB | 2 | 2 | 0 |

## Столбцы *_id без внешних ключей

| Таблица | Колонка | Тип | Nullable |
| --- | --- | --- | --- |
| amocrm_deals | amocrm_deal_id | text | NO |
| amocrm_deals | pipeline_id | integer | YES |
| amocrm_deals | status_id | integer | YES |
| amocrm_webhook_events | amocrm_entity_id | text | NO |
| amocrm_webhook_events | account_id | integer | YES |
| battery_voltage_alerts | starline_device_id | bigint | YES |
| battery_voltage_history | starline_device_id | bigint | YES |
| bookings | sign_id | text | YES |
| bookings | user_id | text | YES |
| bookings | agent_id | text | YES |
| bookings | price_id | text | YES |
| bookings | amocrm_id | text | YES |
| bookings | tariff_id | text | YES |
| bookings | company_id | bigint | YES |
| bookings | localrent_id | text | YES |
| bookings | end_worker_id | text | YES |
| bookings | vseprokaty_id | text | YES |
| bookings | end_location_id | text | YES |
| bookings | location_end_id | text | YES |
| bookings | main_company_id | bigint | YES |
| bookings | start_worker_id | text | YES |
| bookings | location_start_id | text | YES |
| bookings | start_location_id | text | YES |
| bookings | rentprog_car_id | text | YES |
| branches | company_id | integer | YES |
| car_price_checks | rentprog_car_id | text | NO |
| car_prices | rentprog_price_id | text | YES |
| car_prices | season_id | integer | YES |
| cars | starline_id | text | YES |
| cars | rentprog_id | text | YES |
| cars | company_id | integer | YES |
| cars | user_id | text | YES |
| cars | amocrm_id | text | YES |
| cars | ygibdd_id | text | YES |
| cars | traccar_id | text | YES |
| cars | car_mark_id | bigint | YES |
| cars | investor_id | bigint | YES |
| cars | car_model_id | bigint | YES |
| cars | main_company_id | bigint | YES |
| cars | car_generation_id | bigint | YES |
| cars | yandex_vehicle_id | text | YES |
| cars | car_complectation_id | text | YES |
| cars | car_configuration_id | bigint | YES |
| cars_with_investors | car_id | uuid | YES |
| cars_with_investors | investor_id | bigint | YES |
| cars_with_investors | investor_entity_id | uuid | YES |
| clients | company_id | integer | YES |
| clients | user_id | text | YES |
| clients | account_id | text | YES |
| clients | main_company_id | bigint | YES |
| clients | vseprokaty_id | text | YES |
| clients | tinkoff_card_id | text | YES |
| clients | tinkoff_rebill_id | text | YES |
| clients | amocrm_id | text | YES |
| clients | yandex_driver_id | text | YES |
| conversations | umnico_conversation_id | text | YES |
| conversations | amocrm_scope_id | text | YES |
| conversations | amocrm_lead_id | text | YES |
| conversations | assigned_to_user_id | integer | YES |
| conversations | tg_chat_id | bigint | YES |
| conversations | tg_topic_id | integer | YES |
| current_car_prices | car_id | uuid | YES |
| employees | tg_user_id | integer | YES |
| employees | task_chat_id | text | YES |
| entity_branch_cache | rentprog_id | text | NO |
| entity_branch_cache | company_id | integer | YES |
| entity_timeline | entity_id | uuid | NO |
| entity_timeline | source_id | text | YES |
| entity_timeline_recent | entity_id | uuid | YES |
| error_analysis_cache | workflow_id | text | YES |
| event_links | entity_id | uuid | YES |
| event_links | rp_entity_id | text | YES |
| event_links | rp_company_id | integer | YES |
| events | ext_id | text | YES |
| events | rentprog_id | text | YES |
| events | company_id | integer | YES |
| events | execution_id | text | YES |
| external_refs | entity_id | uuid | NO |
| external_refs | external_id | text | NO |
| gps_tracking | starline_device_id | bigint | YES |
| gps_tracking_with_labels | car_id | uuid | YES |
| gps_tracking_with_labels | starline_device_id | bigint | YES |
| history | operation_id | text | YES |
| history | entity_id | text | YES |
| history_processing_queue | entity_id | text | YES |
| investor_statistics | investor_id | bigint | YES |
| messages | umnico_message_id | text | YES |
| messages | amocrm_note_id | text | YES |
| payments | rp_payment_id | bigint | YES |
| payments | rp_car_id | bigint | YES |
| payments | rp_user_id | bigint | YES |
| payments | rp_client_id | bigint | YES |
| payments | rp_company_id | bigint | YES |
| payments | rp_cashbox_id | bigint | YES |
| payments | rp_category_id | bigint | YES |
| payments | rp_subcategory_id | bigint | YES |
| payments | debt_id | bigint | YES |
| payments | agent_id | bigint | YES |
| payments | investor_id | bigint | YES |
| payments | contractor_id | bigint | YES |
| payments | payment_id | bigint | YES |
| payments | car_id | bigint | YES |
| payments | client_id | bigint | YES |
| payments | user_id | bigint | YES |
| rentprog_car_states_snapshot | rentprog_id | text | NO |
| rentprog_car_states_snapshot | company_id | text | YES |
| rentprog_car_states_snapshot | branch_id | uuid | YES |
| rentprog_car_states_snapshot | investor_id | bigint | YES |
| rentprog_employees | rentprog_id | text | NO |
| rentprog_employees | company_id | integer | YES |
| rentprog_employees | account_id | integer | YES |
| rentprog_employees | traccar_id | integer | YES |
| speed_history | starline_device_id | bigint | YES |
| speed_violations | starline_device_id | bigint | YES |
| starline_devices | device_id | bigint | NO |
| starline_devices_with_cars | starline_device_id | bigint | YES |
| starline_devices_with_cars | device_id | bigint | YES |
| starline_devices_with_cars | car_id | uuid | YES |
| starline_devices_with_cars | car_branch_id | uuid | YES |
| starline_events | event_id | bigint | NO |
| sync_state | last_processed_id | text | YES |
| task_links | entity_id | uuid | NO |
| tasks | tg_chat_id | text | YES |
| tasks | tg_topic_id | text | YES |
| unlinked_records | record_id | text | YES |
| unlinked_records | rp_id | text | YES |
| webhook_error_log | request_id | text | YES |
| webhook_error_log | company_id | integer | YES |
| webhook_error_log | rentprog_id | text | YES |

## Потенциальные дубликаты сущностей (по нормализованным именам)

Не найдено повторяющихся групп ✅

## Детализация внешних ключей

| Таблица | Колонка | Ссылается на таблицу | Колонку | Constraint |
| --- | --- | --- | --- | --- |
| amocrm_deals | client_id | clients | id | amocrm_deals_client_id_fkey |
| amocrm_deals | conversation_id | conversations | id | amocrm_deals_conversation_id_fkey |
| api_request_logs | endpoint_id | api_endpoints | id | api_request_logs_endpoint_id_fkey |
| auth_identity | userId | user | id | auth_identity_userId_fkey |
| battery_voltage_alerts | car_id | cars | id | battery_voltage_alerts_car_id_fkey |
| battery_voltage_history | car_id | cars | id | battery_voltage_history_car_id_fkey |
| bookings | branch_id | branches | id | bookings_branch_id_fkey |
| bookings | car_id | cars | id | bookings_car_id_fkey |
| bookings | client_id | clients | id | bookings_client_id_fkey |
| bookings | responsible_id | rentprog_employees | id | bookings_responsible_id_fkey |
| car_price_checks | car_id | cars | id | car_price_checks_car_id_fkey |
| car_prices | car_id | cars | id | car_prices_car_id_fkey |
| cars | branch_id | branches | id | cars_branch_id_fkey |
| chat_hub_messages | executionId | execution_entity | id | FK_6afb260449dd7a9b85355d4e0c9 |
| chat_hub_messages | previousMessageId | chat_hub_messages | id | FK_e5d1fa722c5a8d38ac204746662 |
| chat_hub_messages | retryOfMessageId | chat_hub_messages | id | FK_25c9736e7f769f3a005eef4b372 |
| chat_hub_messages | revisionOfMessageId | chat_hub_messages | id | FK_1f4998c8a7dec9e00a9ab15550e |
| chat_hub_messages | sessionId | chat_hub_sessions | id | FK_e22538eb50a71a17954cd7e076c |
| chat_hub_messages | workflowId | workflow_entity | id | FK_acf8926098f063cdbbad8497fd1 |
| chat_hub_sessions | credentialId | credentials_entity | id | FK_7bc13b4c7e6afbfaf9be326c189 |
| chat_hub_sessions | ownerId | user | id | FK_e9ecf8ede7d989fcd18790fe36a |
| chat_hub_sessions | workflowId | workflow_entity | id | FK_9f9293d9f552496c40e0d1a8f80 |
| conversations | assigned_employee_id | employees | id | conversations_assigned_employee_id_fkey |
| conversations | client_id | clients | id | conversations_client_id_fkey |
| data_table | projectId | project | id | FK_c2a794257dee48af7c9abf681de |
| data_table_column | dataTableId | data_table | id | FK_930b6e8faaf88294cef23484160 |
| event_links | event_id | events | id | event_links_event_id_fkey |
| event_links | history_id | history | id | event_links_history_id_fkey |
| event_links | payment_id | payments | id | event_links_payment_id_fkey |
| execution_annotation_tags | annotationId | execution_annotations | id | FK_c1519757391996eb06064f0e7c8 |
| execution_annotation_tags | tagId | annotation_tag_entity | id | FK_a3697779b366e131b2bbdae2976 |
| execution_annotations | executionId | execution_entity | id | FK_97f863fa83c4786f19565084960 |
| execution_data | executionId | execution_entity | id | execution_data_fk |
| execution_entity | workflowId | workflow_entity | id | fk_execution_entity_workflow_id |
| execution_metadata | executionId | execution_entity | id | FK_31d0b4c93fb85ced26f6005cda3 |
| folder | parentFolderId | folder | id | FK_804ea52f6729e3940498bd54d78 |
| folder | projectId | project | id | FK_a8260b0b36939c6247f385b8221 |
| folder_tag | folderId | folder | id | FK_94a60854e06f2897b2e0d39edba |
| folder_tag | tagId | tag_entity | id | FK_dc88164176283de80af47621746 |
| gps_tracking | car_id | cars | id | gps_tracking_car_id_fkey |
| i2crm_messages | conversation_id | i2crm_conversations | id | i2crm_messages_conversation_id_fkey |
| insights_by_period | metaId | insights_metadata | metaId | FK_6414cfed98daabbfdd61a1cfbc0 |
| insights_metadata | projectId | project | id | FK_2375a1eda085adb16b24615b69c |
| insights_metadata | workflowId | workflow_entity | id | FK_1d8ab99d5861c9388d2dc1cf733 |
| insights_raw | metaId | insights_metadata | metaId | FK_6e2e33741adef2a7c5d66befa4e |
| installed_nodes | package | installed_packages | packageName | FK_73f857fc5dce682cef8a99c11dbddbc969618951 |
| messages | client_id | clients | id | messages_client_id_fkey |
| messages | conversation_id | conversations | id | messages_conversation_id_fkey |
| payments | booking_id | bookings | id | payments_booking_id_fkey |
| payments | branch_id | branches | id | payments_branch_id_fkey |
| payments | employee_id | employees | id | payments_employee_id_fkey |
| processed_data | workflowId | workflow_entity | id | FK_06a69a7032c97a763c2c7599464 |
| project_relation | projectId | project | id | FK_61448d56d61802b5dfde5cdb002 |
| project_relation | role | role | slug | FK_c6b99592dc96b0d836d7a21db91 |
| project_relation | userId | user | id | FK_5f0643f6717905a05164090dde7 |
| rentprog_employees | employee_id | employees | id | rentprog_employees_employee_id_fkey |
| role_scope | roleSlug | role | slug | FK_role |
| role_scope | scopeSlug | scope | slug | FK_scope |
| shared_credentials | credentialsId | credentials_entity | id | FK_416f66fc846c7c442970c094ccf |
| shared_credentials | projectId | project | id | FK_812c2852270da1247756e77f5a4 |
| shared_workflow | projectId | project | id | FK_a45ea5f27bcfdc21af9b4188560 |
| shared_workflow | workflowId | workflow_entity | id | FK_daa206a04983d47d0a9c34649ce |
| speed_history | car_id | cars | id | speed_history_car_id_fkey |
| speed_violations | car_id | cars | id | speed_violations_car_id_fkey |
| starline_devices | car_id | cars | id | starline_devices_car_id_fkey |
| starline_events | device_id | starline_devices | device_id | starline_events_device_id_fkey |
| starline_match_history | car_id | cars | id | starline_match_history_car_id_fkey |
| starline_match_history | starline_device_id | starline_devices | id | starline_match_history_starline_device_id_fkey |
| starline_routes | device_id | starline_devices | device_id | starline_routes_device_id_fkey |
| task_events | task_id | tasks | id | task_events_task_id_fkey |
| task_links | task_id | tasks | id | task_links_task_id_fkey |
| tasks | assignee_id | employees | id | tasks_assignee_id_fkey |
| tasks | branch_id | branches | id | tasks_branch_id_fkey |
| tasks | creator_id | employees | id | tasks_creator_id_fkey |
| test_case_execution | executionId | execution_entity | id | FK_e48965fac35d0f5b9e7f51d8c44 |
| test_case_execution | testRunId | test_run | id | FK_8e4b4774db42f1e6dda3452b2af |
| test_run | workflowId | workflow_entity | id | FK_d6870d3b6e4c185d33926f423c8 |
| user | roleSlug | role | slug | FK_eaea92ee7bfb9c1b6cd01505d56 |
| user_api_keys | userId | user | id | FK_e131705cbbc8fb589889b02d457 |
| variables | projectId | project | id | FK_42f6c766f9f9d2edcc15bdd6e9b |
| webhook_entity | workflowId | workflow_entity | id | fk_webhook_entity_workflow_id |
| workflow_dependency | workflowId | workflow_entity | id | FK_a4ff2d9b9628ea988fa9e7d0bf8 |
| workflow_entity | parentFolderId | folder | id | fk_workflow_parent_folder |
| workflow_history | workflowId | workflow_entity | id | FK_1e31657f5fe46816c34be7c1b4b |
| workflow_statistics | workflowId | workflow_entity | id | fk_workflow_statistics_workflow_id |
| workflows_tags | tagId | tag_entity | id | fk_workflows_tags_tag_id |
| workflows_tags | workflowId | workflow_entity | id | fk_workflows_tags_workflow_id |