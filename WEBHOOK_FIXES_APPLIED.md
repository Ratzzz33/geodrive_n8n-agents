# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ–±—Ö—É–∫–æ–≤ - –ü—Ä–∏–º–µ–Ω–µ–Ω–æ

**–î–∞—Ç–∞:** 2025-11-02  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

---

## üîç –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—à–∏–±–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–æ–¥–∞ "If Error" –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä "not" (`ok != false`)
- –ü—Ä–∏ `ok: true` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–ª–∞—Å—å –∫–∞–∫ –æ—à–∏–±–∫–∞
- –û—Ç–ø—Ä–∞–≤–ª—è–ª–æ—Å—å —Å–æ–æ–±—â–µ–Ω–∏–µ "RentProg Webhook Error" –¥–∞–∂–µ –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –≤–µ–±—Ö—É–∫–æ–≤

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ò–∑–º–µ–Ω–µ–Ω –æ–ø–µ—Ä–∞—Ç–æ—Ä –Ω–∞ "equals" (`ok === false`)
- –õ–æ–≥–∏–∫–∞: –µ—Å–ª–∏ `ok === false` ‚Üí –ø—É—Ç—å 1 (–æ—à–∏–±–∫–∞, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∞–ª–µ—Ä—Ç)
- –õ–æ–≥–∏–∫–∞: –µ—Å–ª–∏ `ok !== false` (—Ç.–µ. `true` –∏–ª–∏ `undefined`) ‚Üí –ø—É—Ç—å 0 (–Ω–µ –æ—à–∏–±–∫–∞, –ø—Ä–æ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º)

### 2. ‚ùå –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∫–ª—é—á–µ–π –≤ payload

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í –≤–µ–±—Ö—É–∫–µ –æ—Ç RentProg –∫–ª—é—á–∏ –º–æ–≥—É—Ç –±—ã—Ç—å:
  - `payload.id` –∏ `payload.rentprogid` (–±–µ–∑ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è)
  - –ò–ª–∏ `payload.rentprog_id` (—Å –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ–º)
- –í—ã—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–æ —Ç–æ–ª—å–∫–æ `rentprog_id`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–ª–µ–Ω–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–±–æ–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:
  ```javascript
  $json.body.payload.rentprog_id || $json.body.payload.rentprogid
  ```

### 3. ‚úÖ –ó–∞–ø–∏—Å—å –≤ –ë–î –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç–æ–≤—ã–π –≤–µ–±—Ö—É–∫ (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)

**–î–∞–Ω–Ω—ã–µ –∏–∑ Telegram:**
- ‚úÖ DEBUG —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏—à–ª–æ
- ‚ö†Ô∏è Error Alert –ø—Ä–∏—à–µ–ª –æ—à–∏–±–æ—á–Ω–æ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
- –í —Ç–µ–ª–µ –≤–µ–±—Ö—É–∫–∞: `payload.id: "testwebhook1762109962005"`, `payload.rentprogid: "test1762109962005"`

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
- –õ–æ–≥–∏–∫–∞ "If Error" –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–æ–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∫–ª—é—á–µ–π –¥–æ–±–∞–≤–ª–µ–Ω–∞
- –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ –ë–î –ø–æ—Å–ª–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ç–µ—Å—Ç–∞

---

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. **–õ–æ–≥–∏–∫–∞ –Ω–æ–¥—ã "If Error":**
   - –ë—ã–ª–æ: `ok != false` (operation: "not")
   - –°—Ç–∞–ª–æ: `ok === false` (operation: "equals")
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏: –ø—É—Ç—å 0 = –Ω–µ –æ—à–∏–±–∫–∞, –ø—É—Ç—å 1 = –æ—à–∏–±–∫–∞

2. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª—é—á–µ–π payload:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `rentprogid` (–±–µ–∑ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è)
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `rentprog_id` (—Å –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ–º)

3. **Debug –Ω–æ–¥–∞:**
   - –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram ‚úÖ
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π JSON –∑–∞–ø—Ä–æ—Å–∞

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

–û—Ç–ø—Ä–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –≤–µ–±—Ö—É–∫ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
1. ‚úÖ –î–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —Ç–æ–ª—å–∫–æ DEBUG —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–±–µ–∑ Error Alert)
2. ‚úÖ –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø–∏—Å—å –≤ –ë–î
3. ‚úÖ Execution –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å–ø–µ—à–Ω—ã–º

---

## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram:**
   - –î–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ DEBUG —Å–æ–æ–±—â–µ–Ω–∏–µ (–±–µ–∑ Error Alert)
   
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ë–î:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `node setup/check_test_event.mjs`
   - –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø–∏—Å—å —Å `branch: tbilisi`, `type: booking.issue.planned`

3. **–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:**
   - Debug –Ω–æ–¥—É –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å
   - Workflow –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –≤–µ–±—Ö—É–∫–∞–º–∏ –æ—Ç RentProg

---

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –≤ workflow** ‚úÖ
