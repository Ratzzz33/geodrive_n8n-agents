# ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: AmoCRM All Deals Parser

**–î–∞—Ç–∞:** 2025-11-09  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é

---

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–°–æ–∑–¥–∞–Ω **–ø–æ–ª–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –≤—Å–µ—Ö —Å–¥–µ–ª–æ–∫** –∏–∑ –≤–æ—Ä–æ–Ω–∫–∏ "–ü–µ—Ä–≤–∏—á–∫–∞" AmoCRM —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ–º —Å–æ –≤—Å–µ–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ —Å–∏—Å—Ç–µ–º—ã –¥–ª—è Big Data –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

---

## üì¶ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. ‚úÖ Playwright Service (–æ–±–Ω–æ–≤–ª–µ–Ω)

**–§–∞–π–ª:** `services/playwright-amocrm.ts`

**–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

#### `getAllDeals(params)`
- –ü–æ–ª—É—á–∞–µ—Ç **–≤—Å–µ —Å–¥–µ–ª–∫–∏** –≤–æ—Ä–æ–Ω–∫–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã (–∞–∫—Ç–∏–≤–Ω—ã–µ –∏ –∑–∞–∫—Ä—ã—Ç—ã–µ)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `pipelineId`, `limit`, `updatedSince`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (–≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

#### `getDealDetailsExtended(dealId)`
- –ü–æ–ª—É—á–∞–µ—Ç **—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª–∏** —Å–¥–µ–ª–∫–∏:
  - –î–µ—Ç–∞–ª–∏ —Å–¥–µ–ª–∫–∏ —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏
  - –ü—Ä–∏–º–µ—á–∞–Ω–∏—è (notes)
  - Inbox –¥–ª—è –ø–æ–∏—Å–∫–∞ `scope_id` (—Å–≤—è–∑—å —Å Umnico)

**–ù–æ–≤—ã–µ endpoints:**
- `GET /api/deals/all` - –≤—Å–µ —Å–¥–µ–ª–∫–∏ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- `GET /api/deals/:id/extended` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª–∏

---

### 2. ‚úÖ n8n Workflow

**–§–∞–π–ª:** `n8n-workflows/amocrm-all-deals-parser.json`

**–¢—Ä–∏–≥–≥–µ—Ä:** Cron (–∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤)

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –ü–æ–ª—É—á–∏—Ç—å `last_sync` timestamp –∏–∑ –ë–î
2. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–¥–µ–ª–∫–∏ —á–µ—Ä–µ–∑ `/api/deals/all` (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
3. –î–ª—è –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏:
   - –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ —á–µ—Ä–µ–∑ `/api/deals/:id/extended`
   - –ò–∑–≤–ª–µ—á—å –¥–∞–Ω–Ω—ã–µ:
     - –¢–µ–ª–µ—Ñ–æ–Ω, –∏–º—è, email –∏–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
     - Custom fields (rentprog_client_id, rentprog_booking_id, rentprog_car_id)
     - scope_id –∏–∑ inbox
     - –°—Ç–∞—Ç—É—Å (successful/unsuccessful/in_progress)
   - –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å SQL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   - Upsert –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
   - –î–æ–±–∞–≤–∏—Ç—å external_refs (amocrm, rentprog)
   - –ù–∞–π—Ç–∏/—Å–æ–∑–¥–∞—Ç—å conversation –ø–æ scope_id
   - –ù–∞–π—Ç–∏ booking –ø–æ rentprog_booking_id
   - –ù–∞–π—Ç–∏ car –ø–æ rentprog_car_id –∏–ª–∏ —á–µ—Ä–µ–∑ booking
   - Upsert —Å–¥–µ–ª–∫—É —Å–æ –≤—Å–µ–º–∏ —Å–≤—è–∑—è–º–∏
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å notes –∫–∞–∫ messages
4. –û–±–Ω–æ–≤–∏—Ç—å sync_state

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ Incremental updates (—Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏)
- ‚úÖ –ü–æ–ª–Ω–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–π –∫–∞–∫ messages –¥–ª—è RAG
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ (–Ω–µ —Ç–æ–ª—å–∫–æ –∑–∞–∫—Ä—ã—Ç—ã–µ)

---

### 3. ‚úÖ SQL –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã

**–§–∞–π–ª:** `sql/amocrm_analytics_queries.sql`

**12 –≥–æ—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:**

1. **–ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞** - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º
2. **–ê–Ω–∞–ª–∏–∑ —É—Å–ø–µ—à–Ω—ã—Ö vs –Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö** - –∫–æ–Ω–≤–µ—Ä—Å–∏—è –∏ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–æ–≤
3. **–°–≤—è–∑—å —Å–¥–µ–ª–æ–∫ —Å –±—Ä–æ–Ω—è–º–∏** - –∫–∞–∫–∏–µ —Å–¥–µ–ª–∫–∏ –ø—Ä–∏–≤–µ–ª–∏ –∫ –±—Ä–æ–Ω—è–º
4. **–¢–æ–ø –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –≤—ã—Ä—É—á–∫–µ** - VIP –∫–ª–∏–µ–Ω—Ç—ã
5. **–ê–Ω–∞–ª–∏–∑ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –≤–æ—Ä–æ–Ω–∫–∏** - –≥–¥–µ —Ç–µ—Ä—è—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—ã
6. **–ö–ª–∏–µ–Ω—Ç—ã —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Å–¥–µ–ª–∫–∞–º–∏** - —Ç–µ–∫—É—â–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
7. **–°–≤—è–∑—å —Å–¥–µ–ª–æ–∫ —Å —á–∞—Ç–∞–º–∏** - –≤–ª–∏—è–Ω–∏–µ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏—é
8. **–ê–Ω–∞–ª–∏–∑ custom fields** - –∫–∞–∫–∏–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è —á–∞—â–µ
9. **–í—Ä–µ–º–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏–∑** - —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å –∏ —Ç—Ä–µ–Ω–¥—ã
10. **–°–¥–µ–ª–∫–∏ –±–µ–∑ —Å–≤—è–∑–µ–π** - —Ç—Ä–µ–±—É—é—â–∏–µ —Ä—É—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
11. **–ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ —ç—Ç–∞–ø–∞–º** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–æ—Ä–æ–Ω–∫–∏
12. **–ö–ª–∏–µ–Ω—Ç—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å–¥–µ–ª–∫–∞–º–∏** - –ª–æ—è–ª—å–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã

---

### 4. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–§–∞–π–ª—ã:**
- `docs/AMOCRM_ALL_DEALS_PARSER.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/AMOCRM_ALL_DEALS_PARSER_QUICKSTART.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `amocrm/ALL_DEALS_PARSER_IMPLEMENTATION.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## üîó –°—Ö–µ–º–∞ —Å–≤—è–∑–µ–π

```
AmoCRM Deal (–≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã)
    ‚Üì
‚îú‚îÄ Client (–ø–æ phone)
‚îÇ   ‚îú‚îÄ external_refs: amocrm ‚Üí contact_id
‚îÇ   ‚îú‚îÄ external_refs: rentprog ‚Üí rentprog_client_id
‚îÇ   ‚îî‚îÄ external_refs: umnico ‚Üí phone
‚îÇ
‚îú‚îÄ Conversation (–ø–æ amocrm_scope_id)
‚îÇ   ‚îî‚îÄ –°–≤—è–∑—å —Å Umnico —á–µ—Ä–µ–∑ umnico_conversation_id
‚îÇ
‚îú‚îÄ Booking (—á–µ—Ä–µ–∑ custom_fields.rentprog_booking_id)
‚îÇ   ‚îî‚îÄ external_refs: rentprog ‚Üí booking_id
‚îÇ       ‚îî‚îÄ Car (—á–µ—Ä–µ–∑ booking.car_id)
‚îÇ
‚îú‚îÄ Car (—á–µ—Ä–µ–∑ custom_fields.rentprog_car_id –∏–ª–∏ booking.car_id)
‚îÇ   ‚îî‚îÄ external_refs: rentprog ‚Üí car_id
‚îÇ
‚îî‚îÄ Messages (–∏–∑ notes)
    ‚îî‚îÄ channel='amocrm_note'
```

---

## üìä –ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ò–∑ —Å–¥–µ–ª–∫–∏:
- `amocrm_deal_id` - ID —Å–¥–µ–ª–∫–∏
- `pipeline_id` - ID –≤–æ—Ä–æ–Ω–∫–∏ (8580102)
- `status_id` - ID —Å—Ç–∞—Ç—É—Å–∞
- `status_label` - –ú–µ—Ç–∫–∞: successful/unsuccessful/in_progress
- `price` - –°—É–º–º–∞ —Å–¥–µ–ª–∫–∏
- `created_at`, `updated_at`, `closed_at` - –î–∞—Ç—ã
- `custom_fields` - –í—Å–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è (JSONB)

### –ò–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤:
- `phone` - –¢–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞
- `name` - –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞
- `email` - Email –∫–ª–∏–µ–Ω—Ç–∞
- `contact_id` - ID –∫–æ–Ω—Ç–∞–∫—Ç–∞ –≤ AmoCRM

### –ò–∑ custom_fields:
- `rentprog_client_id` - ID –∫–ª–∏–µ–Ω—Ç–∞ –≤ RentProg
- `rentprog_booking_id` - ID –±—Ä–æ–Ω–∏ –≤ RentProg
- `rentprog_car_id` - ID –º–∞—à–∏–Ω—ã –≤ RentProg
- –î—Ä—É–≥–∏–µ –ø–æ–ª—è (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏)

### –ò–∑ inbox:
- `scope_id` - ID –¥–∏–∞–ª–æ–≥–∞ –≤ AmoCRM (—Å–≤—è–∑—å —Å Umnico)

### –ò–∑ notes:
- –í—Å–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ `messages` —Å `channel='amocrm_note'`

---

## üöÄ –î–µ–ø–ª–æ–π

### –®–∞–≥ 1: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Playwright Service

```bash
cd /root/geodrive_n8n-agents
docker-compose build playwright-amocrm
docker-compose restart playwright-amocrm
```

### –®–∞–≥ 2: –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å n8n Workflow

1. –û—Ç–∫—Ä—ã—Ç—å: https://n8n.rentflow.rentals
2. Workflows ‚Üí Import from File
3. –í—ã–±—Ä–∞—Ç—å: `n8n-workflows/amocrm-all-deals-parser.json`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å credentials: "Neon PostgreSQL"
5. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å workflow

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
SELECT * FROM sync_state 
WHERE workflow_name = 'amocrm_all_deals_parser'
ORDER BY last_sync_at DESC LIMIT 1;
```

---

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. ‚úÖ **–ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞** - –≤—Å–µ —Å–¥–µ–ª–∫–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏
2. ‚úÖ **–í—Å–µ —Å–≤—è–∑–∏** - –∫–ª–∏–µ–Ω—Ç ‚Üí –±—Ä–æ–Ω—å ‚Üí –º–∞—à–∏–Ω–∞ ‚Üí —á–∞—Ç
3. ‚úÖ **Big Data** - –≥–æ—Ç–æ–≤–æ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø—Ä–æ–¥–∞–∂
4. ‚úÖ **–ò—Å—Ç–æ—Ä–∏—è** - –≤—Å–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è –∫–∞–∫ messages
5. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ** - —á–µ—Ä–µ–∑ external_refs

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –ß–∞—Å—Ç–æ—Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö —Å–¥–µ–ª–æ–∫ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `updated_since` –¥–ª—è incremental updates

### 2. –ü–∞–≥–∏–Ω–∞—Ü–∏—è

- Playwright Service –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é
- –õ–∏–º–∏—Ç: 250 —Å–¥–µ–ª–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –ó–∞–¥–µ—Ä–∂–∫–∞: 500ms –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

### 3. –°–≤—è–∑—ã–≤–∞–Ω–∏–µ —Å RentProg

- –°–¥–µ–ª–∫–∏ —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —Å –±—Ä–æ–Ω—è–º–∏ —á–µ—Ä–µ–∑ `custom_fields.rentprog_booking_id`
- –ï—Å–ª–∏ –±—Ä–æ–Ω—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –ë–î, —Å–≤—è–∑—å –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è (–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ metadata)
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –º–∞—à–∏–Ω —á–µ—Ä–µ–∑ `rentprog_car_id`

### 4. Inbox –¥–ª—è scope_id

- Inbox –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏ (–º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ)
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –ú–æ–∂–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å inbox –æ–¥–∏–Ω —Ä–∞–∑ –≤ –Ω–∞—á–∞–ª–µ workflow

---

## üîß Troubleshooting

### Workflow –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Playwright Service
docker-compose logs playwright-amocrm --tail 100

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å endpoints
curl http://playwright-amocrm:3002/health
curl http://playwright-amocrm:3002/api/deals/all?pipeline_id=8580102&limit=5

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å sync_state
SELECT * FROM sync_state WHERE workflow_name = 'amocrm_all_deals_parser';
```

### –°–¥–µ–ª–∫–∏ –Ω–µ —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —Å –±—Ä–æ–Ω—è–º–∏:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å custom_fields
SELECT 
  amocrm_deal_id,
  custom_fields->>'rentprog_booking_id' as rentprog_booking_id,
  metadata->>'booking_id' as booking_uuid
FROM amocrm_deals
WHERE custom_fields->>'rentprog_booking_id' IS NOT NULL
  AND metadata->>'booking_id' IS NULL;
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/AMOCRM_ALL_DEALS_PARSER.md`
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** `docs/AMOCRM_ALL_DEALS_PARSER_QUICKSTART.md`
- **–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã:** `sql/amocrm_analytics_queries.sql`
- **Workflow:** `n8n-workflows/amocrm-all-deals-parser.json`
- **Playwright Service:** `services/playwright-amocrm.ts`

---

## ‚úÖ –ò—Ç–æ–≥

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** ‚úÖ **–ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö —Å–¥–µ–ª–æ–∫ (–∞–∫—Ç–∏–≤–Ω—ã–µ –∏ –∑–∞–∫—Ä—ã—Ç—ã–µ)
- ‚úÖ –ü–æ–ª–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ —Å–æ –≤—Å–µ–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–π –∫–∞–∫ messages
- ‚úÖ Big Data –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- üöß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ inbox
- üöß –î–æ–±–∞–≤–ª–µ–Ω–∏–µ webhook –æ—Ç AmoCRM –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- üöß –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-09  
**–ê–≤—Ç–æ—Ä:** Jarvis AI Agent

